{"version":3,"sources":["serviceWorker.js","App/reducers.js","Views/ForumFeed/reducers.js","Views/SingleDiscussion/reducers.js","Views/NewDiscussion/reducers.js","Views/AdminDashboard/reducers.js","Views/UserProfile/reducers.js","App/store.js","App/constants.js","Views/ForumFeed/constants.js","Views/SingleDiscussion/constants.js","Views/NewDiscussion/constants.js","Views/AdminDashboard/constants.js","Views/UserProfile/constants.js","Components/Header/UserMenu/index.js","Components/Header/Logo/index.js","Components/Header/NavigationBar/index.js","Containers/Header/index.js","Components/Footer/index.js","App/actions.js","App/api.js","App/App.js","Containers/AdminHeader/index.js","App/Admin.js","Views/AdminDashboard/api.js","Views/AdminDashboard/actions.js","Components/Dashboard/Counts/index.js","Components/Button/index.js","Components/Dashboard/ForumBox/index.js","Views/AdminDashboard/index.js","Views/ForumFeed/api.js","Views/ForumFeed/actions.js","Views/SingleDiscussion/api.js","Views/SingleDiscussion/actions.js","Components/RichEditor/StyleButton.js","Components/RichEditor/BlockStyleControls.js","Components/RichEditor/InlineStyleControls.js","Components/RichEditor/index.js","Components/SingleDiscussion/Discussion/index.js","Components/SingleDiscussion/ReplyBox/index.js","Components/SingleDiscussion/Opinion/index.js","Views/SingleDiscussion/index.js","Components/FeedBox/DiscussionBox/index.js","Components/FeedBox/index.js","Components/SideBar/index.js","Views/ForumFeed/index.js","Components/NewDiscussion/PinButton/index.js","Components/Tag/index.js","Components/NewDiscussion/TagsInput/index.js","Views/NewDiscussion/actions.js","Views/NewDiscussion/api.js","Views/NewDiscussion/index.js","Components/UserProfile/Profile/index.js","Views/UserProfile/actions.js","Views/UserProfile/api.js","Views/UserProfile/index.js","Views/NotFound/index.js","index.js"],"names":["Boolean","window","location","hostname","match","initialState","fetchingForums","forums","currentForum","error","initialUserState","fetchingUser","authenticated","_id","name","email","username","avatarUrl","githubUrl","githubLocation","githubBio","role","fetchingDiscussions","discussions","fetchingPinnedDiscussions","pinnedDiscussions","sortingMethod","fetchingDiscussion","toggleingFavorite","postingOpinion","opinionContent","opinionError","deletingDiscussion","deletedDiscussion","deletingOpinion","discussion","postingSuccess","errorMsg","postingDiscussion","title","tile","content","tags","pinned","loadingInfo","info","discussionCount","opinionCount","forumCount","userCount","creatingForum","creatingForumError","deletingForum","deletingForumError","fetchingProfile","profile","rootReducer","combineReducers","user","state","action","type","Object","assign","fetchUser","payload","app","feed","newDiscussion","adminInfo","userProfile","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","UserMenu","inputChange","e","userInput","target","value","setState","logIn","preventDefault","axios","post","then","res","catch","console","this","props","signedIn","userName","avatar","gitHandler","Navbar","Collapse","id","Nav","className","Link","href","NavDropdown","Form","Group","controlId","Control","onChange","placeholder","length","variant","onClick","toggleSubMenu","src","alt","thumbnail","Item","Component","defaultProps","Logo","viewBox","xmlns","stroke","strokeWidth","fill","fillRule","d","cx","cy","r","NavigationBar","navigationLinks","map","link","key","_","uniqueId","to","Header","forum","forum_name","forum_slug","style","display","Brand","renderNavLinks","connect","Footer","getForums","dispatch","getState","get","data","getUser","withCredentials","AppContainer","params","updateCurrentForum","newCurrentForum","Helmet","children","AdminHeader","AdminContainer","textAlign","marginTop","getAdminDashboardInfoAPI","createForum","forumObj","forum_obj","formData","FormData","append","mosaicImage","slug","headers","createForumAPI","forumData","created","deleteForum","forumId","forum_id","deleted","Counts","count","label","Button","fullWidth","noUppercase","alwaysActive","ForumBox","newForumTitle","newForumSlug","handleCreateForum","bind","convertedTitle","convertedSlug","trim","createAction","deleteAction","accept","files","Dashboard","getAdminDashboardInfo","forumsArray","fetchDiscussions","getPinnedDiscussions","feedChanged","log","fetchSingleDiscussion","discussion_slug","toggleFavorite","discussionId","discussion_id","put","postOpinion","opinion","discussionSlug","postOpinionApi","deletePost","delete","deletePostApi","deleteOpinion","opinionId","deleteOpinionApi","StyleButton","onToggle","onMouseDown","React","BlockStyleControls","editorState","selection","getSelection","blockType","getCurrentContent","getBlockForKey","getStartKey","getType","eachType","active","InlineStyleControls","currentStyle","getCurrentInlineStyle","has","RichEditor","EditorState","createEmpty","focus","refs","editor","onEditorStateChange","handleKeyCommand","onTab","toggleBlockType","toggleInlineStyle","contentState","convertFromRaw","JSON","parse","createWithContent","stringify","convertToRaw","command","newState","RichUtils","event","inlineStyle","contentBlock","onSave","readOnly","saveButtonLabel","customStyleMap","color","backgroundColor","border","fontFamily","padding","margin","blockStyleFn","customBlockStyles","ref","alignSelf","Discussion","userAvatar","discTitle","userGitHandler","discDate","discContent","favoriteCount","favoriteAction","userFavorited","allowDelete","dateDisplay","moment","from","favCount","roundedCircle","ReplyBox","posting","onSubmit","Opinion","opDate","opContent","userId","currentUserId","currentUserRole","SingleDiscussion","deletedDiscussionRedirect","browserHistory","push","setTimeout","updateOpinionContent","favorites","favorited","i","forumSlug","find","user_id","date","opinions","userRole","userFavoritedDiscussion","deleteDiscussion","handleReplySubmit","DiscussionBox","useState","lgShow","setLgShow","discussionTitle","discussionContent","time","voteCount","opinion_count","discussionType","timeDisplay","Moment","Card","Body","base64","fluid","Text","text","Modal","size","show","onHide","aria-labelledby","closeButton","Title","FeedBox","onChangeSortingMethod","activeSortingMethod","loading","discussionBoxTitle","renderSort","renderEmptyDiscussionLine","val","SideBar","timer","ForumFeed","setImageModalPopover","imgName","imageOnModal","loadedEncodedImages","loadingImage","closeModal","showModal","getIndividualImage","x","y","attr","coordinates","imageCoordinates","split","imageCoordinatesX","parseInt","imageCoordinatesY","tileSize","keys","includes","currentForumId","response","getCoordenate","rect","getBoundingClientRect","clientX","clientY","left","top","undefined","clearTimeout","inPopover","drawImage","currentForumObj","context","canvas","current","getContext","img","Image","that","onload","canvasWidth","width","canvasHeight","height","mosaic","tile_size","showUploadTilesButton","showUploadMosaicImageButton","toUploadTilesList","toUploadMosaicList","showSuccessMessage","successMessage","timesWider","widthHeight","quality","showTooltip","createRef","getDiscussions","getCurrentForum","prevProps","newSortingMethod","updateSortingMethod","Container","Popover","placement","onMouseOut","onMouseOver","Content","onMouseMove","Row","Col","md","handleSortingChange","renderNewDiscussionButtion","backgroundImage","backgroundRepeat","backgroundSize","backgroundPosition","sortingChanged","method","PinButton","nextProps","updateValue","Tag","withRemove","removeAction","TagsInput","tagName","test","matched","tag","validateTag","sameTag","newTags","concat","position","slice","removeTag","maxTagCount","addTag","renderTags","renderInput","postDiscussion","validated","postDiscussionApi","postCreated","NewDiscussion","fatalError","tileImage","setUserAndForumID","updateDiscussionTitle","updateDiscussionTile","updateDiscussionContent","updateDiscussionPinStatus","updateDiscussionTags","renderEditor","Profile","fetchUserProfile","userSlug","fetchUserProfileApi","UserProfile","newProps","oldUsername","futureUsername","github","NotFound","ReactDOM","render","appStore","history","path","component","document","getElementById","navigator","serviceWorker","ready","registration","unregister","message"],"mappings":"oNAYoBA,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2D,qBCPAC,EAAe,CACnBC,gBAAgB,EAChBC,OAAQ,KACRC,aAAc,UACdC,OAAO,GA4CHC,EAAmB,CACvBC,cAAc,EACdC,eAAe,EACfH,MAAO,KACPI,IAAK,KACLC,KAAM,KACNC,MAAO,KACPC,SAAU,KACVC,UAAW,KACXC,UAAW,KACXC,eAAgB,KAChBC,UAAW,KACXC,KAAM,MCxDFhB,EAAe,CACnBiB,qBAAqB,EACrBC,YAAa,KACbC,2BAA2B,EAC3BC,kBAAmB,KACnBC,cAAe,OACfjB,MAAO,MCKHJ,EAAe,CACnBsB,oBAAoB,EACpBC,mBAAmB,EACnBC,gBAAgB,EAChBC,eAAgB,KAChBC,aAAc,KACdC,oBAAoB,EACpBC,mBAAmB,EACnBC,gBAAiB,KACjBC,WAAY,KACZ1B,MAAO,MCtBHJ,EAAe,CACnB+B,gBAAgB,EAChBC,SAAU,KACVC,mBAAmB,EACnBC,MAAO,GACPC,KAAM,KACNC,QAAS,KACTC,KAAM,GACNC,QAAQ,GCRJtC,EAAe,CACnBuC,aAAa,EACbC,KAAM,CACJC,gBAAiB,EACjBC,aAAc,EACdC,WAAY,EACZC,UAAW,EACX1C,OAAQ,IAEVE,MAAO,KAEPyC,eAAe,EACfC,mBAAoB,KAEpBC,eAAe,EACfC,mBAAoB,MCvBhBhD,EAAe,CACnBiD,iBAAiB,EACjBC,QAAS,GACT9C,MAAO,MCGH+C,EAAcC,YAAgB,CAClCC,KN6DyB,WAAuC,IAAtCC,EAAqC,uDAA7BjD,EAAkBkD,EAAW,uCAC/D,OAAQA,EAAOC,MACb,IOrE+B,sBPsE7B,OAAOC,OAAOC,OAAO,GAAIJ,EAAO,CAC9BK,WAAW,IAGf,IOzEiC,wBPyEjC,MAWMJ,EAAOK,QATTpD,EAFJ,EAEIA,IACAC,EAHJ,EAGIA,KACAE,EAJJ,EAIIA,SACAC,EALJ,EAKIA,UACAF,EANJ,EAMIA,MACAK,EAPJ,EAOIA,UACAF,EARJ,EAQIA,UACAC,EATJ,EASIA,eACAE,EAVJ,EAUIA,KAGF,OAAOyC,OAAOC,OAAO,GAAIJ,GAAQ,CAC/BhD,cAAc,EACdC,eAAe,EACfH,MAAO,KACPI,MACAC,OACAE,WACAC,YACAF,QACAK,YACAF,YACAC,iBACAE,QAGJ,IOpGiC,wBPqG/B,OAAOyC,OAAOC,OAAO,GAAIrD,EAAkB,CACzCC,cAAc,EACdF,MAAO,0BAGX,QACE,OAAOkD,IMtGXO,INOwB,WAAmC,IAAlCP,EAAiC,uDAAzBtD,EAAcuD,EAAW,uCAC1D,OAAQA,EAAOC,MACb,IOrBiC,wBPsB/B,OAAOC,OAAOC,OAAO,GAAIJ,EAAO,CAC9BrD,gBAAgB,IAGpB,IOzBgC,uBP0B9B,OAAOwD,OAAOC,OAAO,GAAIJ,EAAO,CAC9BrD,gBAAgB,IAGpB,IO7BmC,0BP8BjC,OAAOwD,OAAOC,OAAO,GAAIJ,EAAO,CAC9BpD,OAAQqD,EAAOK,QACf3D,gBAAgB,EAChBG,OAAO,IAGX,IOnCmC,0BPoCjC,OAAOqD,OAAOC,OAAO,GAAIJ,EAAO,CAC9BrD,gBAAgB,EAChBG,MAAO,2BAGX,IO9C8B,uBP+C5B,OAAOqD,OAAOC,OAAO,GAAIJ,EAAO,CAC9BnD,aAAcoD,EAAOK,UAGzB,QACE,OAAON,IMrCXQ,KLSyB,WAAmC,IAAlCR,EAAiC,uDAAzBtD,EAAcuD,EAAW,uCAC3D,OAAOA,EAAOC,MACZ,IO1BsC,6BP2BpC,OAAOC,OAAOC,OAAO,GAAIJ,EAAO,CAC9BrC,qBAAqB,EACrBb,MAAO,OAGX,IO/BqC,4BPgCnC,OAAOqD,OAAOC,OAAO,GAAIJ,EAAO,CAC9BrC,qBAAqB,IAGzB,IOnCwC,+BPoCtC,OAAOwC,OAAOC,OAAO,GAAIJ,EAAO,CAC9BpC,YAAaqC,EAAOK,QACpB3C,qBAAqB,EACrBb,MAAO,OAGX,IOzCwC,+BP0CtC,OAAOqD,OAAOC,OAAO,GAAIJ,EAAO,CAC9BrC,qBAAqB,EACrBb,MAAO,+CAGX,IO7C6C,oCP8C3C,OAAOqD,OAAOC,OAAO,GAAIJ,EAAO,CAC9BnC,2BAA2B,EAC3Bf,MAAO,OAGX,IOlD4C,mCPmD1C,OAAOqD,OAAOC,OAAO,GAAIJ,EAAO,CAC9BnC,2BAA2B,IAG/B,IOtD+C,sCPuD7C,OAAOsC,OAAOC,OAAO,GAAIJ,EAAO,CAC9BlC,kBAAmBmC,EAAOK,QAC1BzC,2BAA2B,EAC3Bf,MAAO,OAGX,IO5D+C,sCP6D7C,OAAOqD,OAAOC,OAAO,GAAIJ,EAAO,CAC9BnC,2BAA2B,EAC3Bf,MAAO,sDAIX,IOjEiC,wBPkE/B,OAAOqD,OAAOC,OAAO,GAAIJ,EAAO,CAC9BjC,cAAekC,EAAOK,UAG1B,IOrEyB,gBPsEvB,OAAOH,OAAOC,OAAO,GAAIJ,EAAO,CAC9BlD,MAAO,kCACPe,2BAA2B,EAC3BF,qBAAqB,IAGzB,QACE,OAAOqC,IKxEXxB,WJuBqC,WAAmC,IAAlCwB,EAAiC,uDAAzBtD,EAAcuD,EAAW,uCACvE,OAAOA,EAAOC,MACZ,IOzCsC,mCP0CpC,OAAOC,OAAOC,OAAO,GAAIJ,EAAO,CAC9BhC,oBAAoB,IAGxB,IO7CoC,iCP8ClC,OAAOmC,OAAOC,OAAO,GAAIJ,EAAO,CAC9BhC,oBAAoB,IAGxB,IOjDwC,qCPkDtC,OAAOmC,OAAOC,OAAO,GAAIJ,EAAO,CAC9BxB,WAAYyB,EAAOK,QACnBtC,oBAAoB,EACpBlB,MAAO,OAGX,IOvDwC,qCPwDtC,OAAOqD,OAAOC,OAAO,GAAIJ,EAAO,CAC9BhC,oBAAoB,EACpBlB,MAAO,0DAGX,IO3DiC,wBP4D/B,OAAOqD,OAAOC,OAAO,GAAIJ,EAAO,CAC9B/B,mBAAmB,IAGvB,IO/DmC,0BPgEnC,IO/DmC,0BPgEjC,OAAOkC,OAAOC,OAAO,GAAIJ,EAAO,CAC9B/B,mBAAmB,IAGvB,IOlEkC,yBPmEhC,OAAOkC,OAAOC,OAAO,GAAIJ,EAAO,CAC9B7B,eAAgB8B,EAAOK,UAG3B,IOrEiC,wBPsE/B,OAAOH,OAAOC,OAAO,GAAIJ,EAAO,CAC9B9B,gBAAgB,EAChBE,aAAc,OAGlB,IO1EmC,0BP2EjC,OAAO+B,OAAOC,OAAO,GAAIJ,EAAO,CAC9B9B,gBAAgB,EAChBC,eAAgB,KAChBC,aAAc,OAGlB,IOhFmC,0BPiFjC,OAAO+B,OAAOC,OAAO,GAAIJ,EAAO,CAC9B9B,gBAAgB,EAChBC,eAAgB,KAChBC,aAAc6B,EAAOK,UAGzB,IOrF6B,oBPsF3B,OAAOH,OAAOC,OAAO,GAAIJ,EAAO,CAC9B3B,oBAAoB,IAGxB,IOzF+B,sBP0F7B,OAAO8B,OAAOC,OAAO,GAAIJ,EAAO,CAC9B3B,oBAAoB,EACpBC,mBAAmB,IAGvB,IO9F+B,sBP+F7B,OAAO6B,OAAOC,OAAO,GAAIJ,EAAO,CAC9B3B,oBAAoB,EACpBC,mBAAmB,IAGvB,IOnGgC,uBPoG9B,OAAO6B,OAAOC,OAAO,GAAIJ,EAAO,CAC9B1B,mBAAmB,IAGvB,IOtGgC,uBPuG9B,OAAO6B,OAAOC,OAAO,GAAIJ,EAAO,CAC9BzB,gBAAiB0B,EAAOK,UAG5B,IO1GkC,yBP2GlC,IO1GkC,yBP2GhC,OAAOH,OAAOC,OAAO,GAAIJ,EAAO,CAC9BzB,gBAAiB,OAGrB,QACE,OAAOyB,IIrHXS,cHQkC,WAAmC,IAAlCT,EAAiC,uDAAzBtD,EAAcuD,EAAW,uCACpE,OAAQA,EAAOC,MACb,IO3BoC,2BP4BlC,OAAOC,OAAOC,OAAO,GAAIJ,EAAO,CAC9BrB,mBAAmB,IAGvB,IO9BsC,6BP+BpC,OAAOwB,OAAOC,OAAO,GAAI1D,EAAc,CACrC+B,gBAAgB,EAChBE,mBAAmB,EACnBD,SAAU,OAGd,IOpCsC,6BPqCpC,OAAOyB,OAAOC,OAAO,GAAIJ,EAAO,CAC9BvB,gBAAgB,EAChBE,mBAAmB,EACnBD,SAAUuB,EAAOK,SAAW,+BAGhC,IOnCiC,wBPoC/B,OAAOH,OAAOC,OAAO,GAAI1D,EAAc,CACrC+B,gBAAgB,IAGpB,IO9CmC,0BP+CjC,OAAO0B,OAAOC,OAAO,GAAIJ,EAAO,CAC9BpB,MAAOqB,EAAOK,UAGlB,IOlDqC,4BPoDnC,OAAOH,OAAOC,OAAO,GAAIJ,EAAO,CAE9BlB,QAASmB,EAAOK,UAGpB,IOxDkC,yBPyDhC,OAAOH,OAAOC,OAAO,GAAIJ,EAAO,CAC9BnB,KAAMoB,EAAOK,UAGjB,IO5DwC,+BP6DtC,OAAOH,OAAOC,OAAO,GAAIJ,EAAO,CAC9BhB,OAAQiB,EAAOK,UAGnB,IOhEkC,yBPiEhC,OAAOH,OAAOC,OAAO,GAAIJ,EAAO,CAC9BjB,KAAMkB,EAAOK,UAGjB,QACE,OAAON,IG7DXU,UFc8B,WAAmC,IAAlCV,EAAiC,uDAAzBtD,EAAcuD,EAAW,uCAChE,OAAQA,EAAOC,MACb,IOlC8B,qBPmC5B,OAAOC,OAAOC,OAAO,GAAIJ,EAAO,CAC9Bf,aAAa,EACbnC,MAAO,OAGX,IOvCgC,uBPwC9B,OAAOqD,OAAOC,OAAO,GAAIJ,EAAO,CAC9Bf,aAAa,EACbC,KAAMe,EAAOK,QACbxD,MAAO,OAGX,IO7CgC,uBP8C9B,OAAOqD,OAAOC,OAAO,GAAIJ,EAAO,CAC9Bf,aAAa,EACbnC,MAAO,gEAGX,IOjDwB,ePkDtB,OAAOqD,OAAOC,OAAO,GAAIJ,EAAO,CAC9BR,mBAAoB,KACpBD,eAAe,IAGnB,IOtDgC,uBPuD9B,OAAOY,OAAOC,OAAO,GAAIJ,EAAO,CAC9BT,eAAe,EACfC,mBAAoB,OAGxB,IO3DgC,uBP4D9B,OAAOW,OAAOC,OAAO,GAAIJ,EAAO,CAC9BT,eAAe,EACfC,mBAAoB,yHAGxB,IO/DwB,ePgEtB,OAAOW,OAAOC,OAAO,GAAIJ,EAAO,CAC9BP,eAAe,EACfC,mBAAoB,OAGxB,IOpEgC,uBPqE9B,OAAOS,OAAOC,OAAO,GAAIJ,EAAO,CAC9BP,eAAe,EACfC,mBAAoB,OAGxB,IOzEgC,uBP0E9B,OAAOS,OAAOC,OAAO,GAAIJ,EAAO,CAC9BP,eAAe,EACfC,mBAAoB,mFAGxB,QACE,OAAOM,IEvEXW,YDPgC,WAAmC,IAAlCX,EAAiC,uDAAzBtD,EAAcuD,EAAW,uCAClE,OAAQA,EAAOC,MACb,IOdoC,2BPelC,OAAOC,OAAOC,OAAO,GAAIJ,EAAO,CAC9BL,iBAAiB,EACjB7C,MAAO,OAGX,IOnBsC,6BPoBpC,OAAOqD,OAAOC,OAAO,GAAIJ,EAAO,CAC9BL,iBAAiB,EACjBC,QAASK,EAAOK,QAChBxD,MAAO,OAGX,IOzBsC,6BP0BpC,OAAOqD,OAAOC,OAAO,GAAIJ,EAAO,CAC9BL,iBAAiB,EACjB7C,MAAO,yEAGX,QACE,OAAOkD,MCXPY,EAAmBtE,OAAOuE,sCAAwCC,IAWzDC,EARHC,YACVnB,EAEAe,EACEK,YAAgBC,O,2GOzBdC,E,kDACJ,aAAe,IAAD,8BACZ,gBAKFC,YAAc,SAACC,GACb,IAAMC,EAAYD,EAAEE,OAAOC,MAE3B,EAAKC,SAAS,CAAEH,eATJ,EAYdI,MAAQ,SAACL,GACPA,EAAEM,iBACFC,IAAMC,KAAN,uCAA2C,EAAK7B,MAAMsB,YAAaQ,MAAK,SAAUC,GAChFzF,OAAOC,SAAW,OAGjByF,OAAM,SAAUlF,GACfmF,QAAQnF,MAAMA,OAjBlB,EAAKkD,MAAQ,CACXsB,UAAW,IAHD,E,qDAsBJ,IAAD,EAOHY,KAAKC,MALPC,EAFK,EAELA,SACAC,EAHK,EAGLA,SACAC,EAJK,EAILA,OACAC,EALK,EAKLA,WAOF,OACE,6BACE,kBAACC,EAAA,EAAOC,SAAR,CAAiBC,GAAG,oBAClB,kBAACC,EAAA,EAAD,CAAKC,UAAU,WACb,kBAACD,EAAA,EAAIE,KAAL,CAAUC,KAAK,SAAf,QACA,kBAACH,EAAA,EAAIE,KAAL,CAAUC,KAAK,SAAf,QACA,kBAACC,EAAA,EAAD,CAAanE,MAAOwD,EAAWC,EAAW,oBAAqBK,GAAG,uBAC9DN,GAAY,kBAACY,EAAA,EAAD,CAAMJ,UAAU,OAC5B,kBAACI,EAAA,EAAKC,MAAN,CAAYC,UAAU,kBACpB,kBAACF,EAAA,EAAKG,QAAN,CAAcjD,KAAK,OAAOkD,SAAUlB,KAAKd,YAAaiC,YAAY,gBAGnEnB,KAAKlC,MAAMsB,UAAUgC,OAAS,kBAAC,IAAD,CAAQC,QAAQ,UAAUrD,KAAK,SAASsD,QAAStB,KAAKR,OAAtD,UAEnB,MAGbU,GAAY,0BAAMoB,QAAStB,KAAKuB,eAC/B,kBAAC,IAAD,CAAOC,IAAKpB,EAAQqB,IAAG,UAAKtB,EAAL,WAAwBuB,WAAS,IAExD,kBAACb,EAAA,EAAYc,KAAb,CAAkBf,KAAI,gBAAWP,IAAjC,eAIDH,GACC,kBAACW,EAAA,EAAYc,KAAb,CAAkBf,KAAI,gBAAWP,IAAjC,oB,GA5DOuB,aA4EvB3C,EAAS4C,aAAe,CACtB3B,UAAU,EACVC,SAAU,GACVE,WAAY,GACZD,OAAQ,IAUKnB,QC5EA6C,EAhBF,WACX,OACE,6BACE,6BACE,yBAAKC,QAAQ,cAAaC,MAAM,8BAC9B,uBAAGxB,GAAG,QAAQyB,OAAO,OAAOC,YAAY,IAAIC,KAAK,OAAOC,SAAS,WAC/D,0BAAMC,EAAE,mqBAAmqB7B,GAAG,iBAAiB2B,KAAK,YACpsB,4BAAQ3B,GAAG,OAAO2B,KAAK,UAAUG,GAAG,aAAaC,GAAG,aAAaC,EAAE,kBAIzE,0C,iBCRAC,E,uKACM,IAENC,EACE1C,KAAKC,MADPyC,gBAGF,OAAIA,EAEA,6BAAShC,UAAU,wBACjB,wBAAIA,UAAU,iCACXgC,EAAgBC,KAAI,SAAAC,GACnB,OAAgB,IAAZA,EAAKpC,GAEL,wBAAIqC,IAAKC,IAAEC,SAAS,aAClB,kBAAC,IAAD,CAGEC,GAAG,KAHL,SAYJ,wBAAIH,IAAKC,IAAEC,SAAS,aAClB,kBAAC,IAAD,CAGEC,GAAIJ,EAAKA,MAERA,EAAK3H,YAWf,S,GA3CiB2G,aA+C5Ba,EAAcZ,aAAe,CAC3Ba,gBAAiB,CACf,CACElC,GAAI,EACJvF,KAAM,UACN2H,KAAM,OASGH,QCtDTQ,E,+KACc,IACRvI,EAAWsF,KAAKC,MAAhBvF,OAER,OAAIA,EACKA,EAAOiI,KAAI,SAACO,GACjB,MAAO,CACL1C,GAAI0C,EAAMlI,IACVC,KAAMiI,EAAMC,WACZP,KAAK,IAAD,OAAMM,EAAME,gBAKf,O,+BAGC,IAAD,EAMHpD,KAAKC,MAAMpC,KAJb9C,EAFK,EAELA,cACAE,EAHK,EAGLA,KACAE,EAJK,EAILA,SACAC,EALK,EAKLA,UAGF,OACE,4BAAQiI,MAAO,CAACC,QAAS,SACvB,kBAAChD,EAAA,EAAD,CAAQI,UAAU,YAAYW,QAAQ,QACpC,kBAACf,EAAA,EAAOiD,MAAR,CAAc3C,KAAK,SAAnB,UACA,kBAAC,EAAD,CACEV,SAAUnF,EACVoF,SAAUlF,GAAQE,EAClBkF,WAAYlF,EACZiF,OAAQhF,IAGV,kBAAC,EAAD,CACEsH,gBAAiB1C,KAAKwD,yB,GArCb5B,aA8CN6B,eACb,SAAC3F,GACC,MAAO,CACLD,KAAMC,EAAMD,KACZnD,OAAQoD,EAAMO,IAAI3D,UAJT+I,CAObR,GC/DIS,E,uKAEF,OACE,kC,GAHe9B,aAWrB8B,EAAO7B,aAAe,GAMP6B,QCCFC,G,OAAY,WACvB,OAAO,SAACC,EAAUC,GAChBD,EAAS,CAAE5F,KXrBsB,0BYC5B0B,IAAMoE,IAAI,cDsBDlE,MACZ,SAAAmE,GAAI,OAAIH,EAAS,CAAE5F,KXtBc,0BWsBiBI,QAAS2F,EAAKA,UAChE,SAAAnJ,GAAK,OAAIgJ,EAAS,CAAE5F,KXtBa,kCW2C1BgG,EAAU,WACrB,OAAO,SAACJ,EAAUC,GAChBD,EAAS,CAAE5F,KX3CoB,wBYA1B0B,IAAMoE,IAAI,oBAAqB,CAACG,iBAAiB,ID6C1CrE,MACV,SAAAmE,GACOA,EAAKA,KAAK/I,IACV4I,EAAS,CAAE5F,KX/Ca,wBW+CgBI,QAAS2F,EAAKA,OADvCH,EAAS,CAAE5F,KX7CF,6BWgD/B,SAAApD,GAAK,OAAIgJ,EAAS,CAAE5F,KXhDW,+BaE/BkG,E,kLACiB,IAAD,EAMdlE,KAAKC,MAJPkE,EAFgB,EAEhBA,OACAC,EAHgB,EAGhBA,mBACAT,EAJgB,EAIhBA,UACAK,EALgB,EAKhBA,QAIFL,IAGAK,IAIAI,EADqBD,EAAOjB,OAAS,M,2CAIjB,IAAD,EAMflD,KAAKC,MAJPvF,EAFiB,EAEjBA,OACAyJ,EAHiB,EAGjBA,OACAxJ,EAJiB,EAIjBA,aACAyJ,EALiB,EAKjBA,mBAGEC,EAAkB,GAClBF,EAAOjB,MAAOmB,EAAkBF,EAAOjB,MAClCxI,GAAUA,EAAO0G,SAAQiD,EAAkB3J,EAAO,GAAG0I,YAG1DiB,IAAoB1J,GAAcyJ,EAAmBC,K,+BAOzD,OAHmBrE,KAAKC,MAAhBvF,OAKJ,6BACE,kBAAC4J,EAAA,EAAD,KAAS,gDAGT,kBAAC,EAAD,MAECtE,KAAKC,MAAMsE,SACZ,kBAAC,EAAD,OAMJ,+C,GAvDqB3C,aA4DZ6B,eACb,SAAC3F,GACC,MAAO,CACLpD,OAAQoD,EAAMO,IAAI3D,OAClBC,aAAcmD,EAAMO,IAAI1D,iBAG5B,SAACiJ,GACC,MAAO,CACLD,UAAW,WAAQC,EAASD,MAC5BS,mBAAoB,SAACzJ,GAAmBiJ,EF5CZ,SAACjJ,GACjC,MAAO,CACLqD,KXvC8B,uBWwC9BI,QAASzD,GEyC0CyJ,CAAmBzJ,KACpEqJ,QAAS,WAAQJ,EAASI,SAXjBP,CAcbS,GCvEIM,E,+KAEF,MAAO,CACL,CAAEvJ,KAAM,YAAa2H,KAAM,a,+BAIrB,IAAD,EAMH5C,KAAKC,MAAMpC,KAJb9C,EAFK,EAELA,cACAE,EAHK,EAGLA,KACAE,EAJK,EAILA,SACAC,EALK,EAKLA,UAGF,OACE,6BACE,6BACE,kBAAC,EAAD,MADF,gBAGE,kBAAC,EAAD,CACE8E,SAAUnF,EACVoF,SAAUlF,GAAQE,EAClBkF,WAAYlF,EACZiF,OAAQhF,KAGZ,kBAAC,EAAD,CACEsH,gBAAiB1C,KAAKwD,wB,GA5BN5B,aAmCX6B,eACb,SAAC3F,GAAY,MAAO,CAClBD,KAAMC,EAAMD,KACZnD,OAAQoD,EAAMO,IAAI3D,UAHP+I,CAKbe,GC3CIC,E,kLAGFzE,KAAKC,MAAM+D,Y,+BAGH,IACAnG,EAASmC,KAAKC,MAAdpC,KAER,OAAIA,EAAK/C,aAEL,yBAAKuI,MAAO,CAAEqB,UAAW,SAAUC,UAAW,KAA9C,4BAMc,UAAd9G,EAAKrC,KAEL,6BACE,kBAAC8I,EAAA,EAAD,KAAQ,mDACR,kBAAC,EAAD,MACCtE,KAAKC,MAAMsE,UAMd,yBAAKlB,MAAO,CAAEqB,UAAW,SAAUC,UAAW,KAA9C,uEACsE,6BADtE,qBAEoB,kBAAC,IAAD,CAAM3B,GAAG,KAAT,QAFpB,c,GA5BqBpB,aA4Cd6B,eACb,SAAC3F,GAAY,MAAO,CAClBD,KAAMC,EAAMD,SAEd,SAAC+F,GAAe,MAAO,CACrBI,QAAS,WAAQJ,EAASI,SALfP,CAObgB,GC3DWG,EAA2B,WACtC,OAAQlF,IAAMoE,IAAI,oCCsCPe,GAAc,SAACC,GAC1B,OAAO,SAAClB,EAAUC,GAChBD,EAAS,CAAE5F,KbxCa,iBYGE,SAAC+G,GAC7B,IAAMC,EAAW,IAAIC,SAMrB,OAJAD,EAASE,OAAO,MAAOH,EAAUI,aACjCH,EAASE,OAAO,QAASH,EAAUrI,OACnCsI,EAASE,OAAO,OAAQH,EAAUK,MAE1B1F,IAAMC,KAAK,0BAA2BqF,EAAU,CACtDK,QAAS,CACP,eAAgB,yBC+BlBC,CAAeR,GAAUlF,MACvB,SAAA2F,GAEEX,IAA2BhF,MACzB,SAAAmE,GAEEH,EAAS,CAAE5F,KbpDa,uBaoDeI,QAAS2F,EAAKA,OAGjDwB,EAAUxB,KAAKyB,QAAW5B,EAAS,CAAE5F,KbnDjB,yBaoDnB4F,EAAS,CAAE5F,KbnDQ,4BaqD1B,SAAApD,GAAK,OAAIgJ,EAAS,CAAE5F,KhBxDc,+BgBwDsBI,QAASxD,UAGrE,SAAAA,GAAK,OAAIgJ,EAAS,CAAE5F,KbxDU,8Ba6DvByH,GAAc,SAACC,GAC1B,OAAO,SAAC9B,EAAUC,GD/CU,IAAC8B,ECgD3B/B,EAAS,CAAE5F,Kb7Da,kBYaG2H,ECkDZD,EDjDThG,IAAMC,KAAK,0BAA2B,CAAEgG,cCiDtB/F,MACtB,SAAA2F,GACE3B,EAAS,CAAE5F,KbzEe,uBa4E1B4G,IAA2BhF,MACzB,SAAAmE,GACEH,EAAS,CAAE5F,Kb7Ea,uBa6EeI,QAAS2F,EAAKA,OAGjDwB,EAAUxB,KAAK6B,QAAWhC,EAAS,CAAE5F,KbxEjB,yBayEnB4F,EAAS,CAAE5F,KbxEQ,4Ba0E1B,SAAApD,GAAK,OAAIgJ,EAAS,CAAE5F,KhBjFc,+BgBiFsBI,QAASxD,UAGrE,SAAAA,GAAK,OAAIgJ,EAAS,CAAE5F,Kb7EU,8BcN9B6H,G,uKACM,IAAD,EAIH7F,KAAKC,MAFP6F,EAFK,EAELA,MACAC,EAHK,EAGLA,MAGF,OACE,6BACE,6BAAOD,GACP,6BAAOC,Q,GAVMnE,aAgBrBiE,GAAOhE,aAAe,CACpBiE,MAAO,EACPC,MAAO,WAQMF,U,SC5BTG,G,uKACM,IAAD,EASHhG,KAAKC,MAHPoD,GANK,EAELrF,KAFK,EAGLiI,UAHK,EAILC,YAJK,EAKLxF,UALK,EAML2C,OACA/B,EAPK,EAOLA,QAPK,EAQL6E,aAGF,OACE,4BACE7E,QAASA,EAET+B,MAAOA,GAENrD,KAAKC,MAAMsE,c,GAlBC3C,aAwBrBoE,GAAOnE,aAAe,CACpB7D,KAAM,UACNiI,WAAW,EACXC,aAAa,EACbC,cAAc,EACdzF,UAAW,GACX2C,MAAO,GACP/B,QAAS,cAaI0E,UCxCTI,G,kDACJ,WAAYnG,GAAQ,IAAD,8BACjB,cAAMA,IACDnC,MAAQ,CACXuI,cAAe,GACfC,aAAc,GACd9J,SAAU,KACV2I,YAAa,MAGf,EAAKoB,kBAAoB,EAAKA,kBAAkBC,KAAvB,iBATR,E,gEAcjBxG,KAAKT,SAAS,CAAE/C,SAAU,OAFR,MAQdwD,KAAKlC,MAHPuI,EALgB,EAKhBA,cACAC,EANgB,EAMhBA,aACAnB,EAPgB,EAOhBA,YAGEsB,EAAiB,KACjBC,EAAgB,KAGpB,GAAsB,KAAlBL,EASF,OAAOrG,KAAKT,SAAS,CAAE/C,SAAU,8DAJjC,IAHAiK,EAAiBJ,EAAcM,QAGZvF,OAAS,EAC1B,OAAOpB,KAAKT,SAAS,CAAE/C,SAAU,mDAOrC,IAAI2I,EAAa,OAAOnF,KAAKT,SAAS,CAAC/C,SAAU,gCAEjD,GAAsB,KAAlBkK,EASF,OAAO1G,KAAKT,SAAS,CAAE/C,SAAU,4DAJjC,OAHAkK,EAAgBJ,EAAa/L,MADX,cAC8B+L,EAAe,OAG1CI,EAActF,OAAS,EACnCpB,KAAKT,SAAS,CAAE/C,SAAU,kDAMhCiK,EACAC,OAEDD,GAAkBC,GAAiB1G,KAAKC,MAAM2G,aAAa,CAAElK,MAAO+J,EAAgBrB,KAAMsB,EAAevB,iBAFhFnF,KAAKT,SAAS,CAAE/C,SAAU,kGADzBwD,KAAKT,SAAS,CAAE/C,SAAU,0C,+BAMhD,IAAD,SAMHwD,KAAKC,MAJPvF,EAFK,EAELA,OACA2C,EAHK,EAGLA,cACAwJ,EAJK,EAILA,aACAtJ,EALK,EAKLA,cALK,EAYHyC,KAAKlC,MADPtB,GAXK,EASL6J,cATK,EAULC,aAVK,EAWL9J,UAGF,OACE,6BACE,+CACA,6BACIe,GAAiB,+DAEjB7C,EAAOiI,KAAI,SAACO,GAAD,OAAW,yBAAKL,IAAKK,EAAM1C,IACtC,6BAAQ0C,EAAMjI,MACd,iCAASiI,EAAMkC,KAAf,KACA,6BACE,kBAAC,GAAD,CAAQ9D,QAAS,WAAQuF,EAAa3D,EAAM1C,MAA5C,gBAMN,6BACInD,GAAiB,+DACnB,iDACA,6BACE,6BACE,wCACA,2BACEW,KAAM,OAENmD,YAAa,cACbD,SAAU,SAAC/B,GAAQ,EAAKI,SAAS,CAAE8G,cAAelH,EAAEE,OAAOC,YAG/D,6BACE,uCACA,2BACEtB,KAAM,OAENmD,YAAa,aACbD,SAAU,SAAC/B,GAAQ,EAAKI,SAAS,CAAE+G,aAAcnH,EAAEE,OAAOC,YAG9D,6BACE,+CACA,2BACEtB,KAAM,OACN8I,OAAO,aACP7L,KAAK,MACLiG,SAAU,SAAC/B,GAAQ,EAAKI,SAAS,CAAE4F,YAAahG,EAAEE,OAAO0H,MAAM,SAGnE,kBAAC,GAAD,CAAQzF,QAAStB,KAAKuG,mBAAtB,WAEA/J,GAAY,6BAAOA,S,GA3HRoF,aAkIvBwE,GAASvE,aAAe,GAWTuE,UCnITY,G,kLAGFhH,KAAKC,MAAMgH,0B,+BAGH,IAAD,SAOHjH,KAAKC,MAAMzB,UAAUxB,KALvBC,EAFK,EAELA,gBACAC,EAHK,EAGLA,aACAC,EAJK,EAILA,WACAC,EALK,EAKLA,UACA1C,EANK,EAMLA,OANK,EAeHsF,KAAKC,MALPlD,EAVK,EAULA,YACAM,EAXK,EAWLA,cACAC,EAZK,EAYLA,mBACAC,EAbK,EAaLA,cACAC,EAdK,EAcLA,mBAGI0J,EAAcxM,EAAOiI,KAAI,SAACO,GAC9B,MAAO,CAAE1C,GAAI0C,EAAMlI,IAAKC,KAAMiI,EAAMC,WAAYiC,KAAMlC,EAAME,eAG9D,OACE,6BACIrG,GAAe,0DAIjB,6BACE,kBAAC,GAAD,CAAQgJ,MAAO,QAASD,MAAO1I,IAC/B,kBAAC,GAAD,CAAQ2I,MAAO,cAAeD,MAAO7I,IACrC,kBAAC,GAAD,CAAQ8I,MAAO,WAAYD,MAAO5I,IAClC,kBAAC,GAAD,CAAQ6I,MAAO,SAAUD,MAAO3I,KAGlC,kBAAC,GAAD,CACEzC,OAAQwM,EACR3J,cAAeA,EACfsJ,aAAc,SAACnB,GAAc,EAAKzF,MAAMwF,YAAYC,IACpDrI,cAAeA,EACfuJ,aAAc,SAAC9B,GAAe,EAAK7E,MAAM4E,YAAYC,MAGrDxH,GAAsB,6BAAOA,GAC7BE,GAAsB,6BAAOA,Q,GAjDfoE,aAuDT6B,gBACb,SAAC3F,GAAY,MAAO,CAClBU,UAAWV,EAAMU,UACjBzB,YAAae,EAAMU,UAAUzB,YAC7BM,cAAeS,EAAMU,UAAUnB,cAC/BC,mBAAoBQ,EAAMU,UAAUlB,mBACpCC,cAAeO,EAAMU,UAAUjB,cAC/BC,mBAAoBM,EAAMU,UAAUhB,uBAEtC,SAACoG,GAAe,MAAO,CACrBqD,sBAAuB,WAAQrD,GJtD1B,SAACA,EAAUC,GAChBD,EAAS,CAAE5F,Kb5BmB,uBa8B9B4G,IAA2BhF,MACzB,SAAAmE,GAAI,OAAIH,EAAS,CAAE5F,Kb9BW,uBa8BiBI,QAAS2F,EAAKA,UAC7D,SAAAnJ,GAAK,OAAIgJ,EAAS,CAAE5F,KhB7BkB,+BgB6BkBI,QAASxD,WIkDnE+I,UAAW,WAAQC,EAASD,MAC5B8B,YAAa,SAACC,GAAc9B,EAAS6B,GAAYC,KACjDb,YAAa,SAACC,GAAelB,EAASiB,GAAYC,QAbvCrB,CAebuD,I,+ECjFWG,GAAmB,SAACxB,EAAU9J,GACzC,OAAO6D,IAAMoE,IAAN,qBAAwB6B,EAAxB,uCAA+D9J,KC8D3DuL,GAAuB,SAAC1B,EAAS2B,GAC5C,OAAO,SAACzD,EAAUC,GAIhB,GAFIwD,GAAazD,EAAS,CAAE5F,KtBlEiB,sCsBoExC0H,EAKH,ODrEiCC,ECqEHD,EDpE3BhG,IAAMoE,IAAN,qBAAwB6B,EAAxB,yBCoEoC/F,MACrC,SAAAmE,GAAI,OAAIH,EAAS,CAAE5F,KtBxEwB,sCsBwEmBI,QAAS2F,EAAKA,UAC5E,SAAAnJ,GAAWmF,QAAQuH,IAAI1M,GAAQgJ,EAAS,CAAE5F,KtBxEC,2CqBCb,IAAC2H,ECiEjC/B,EAAS,CAAE5F,KtB/DY,oB,8BuBNhBuJ,GAAwB,SAACC,GACpC,OAAO9H,IAAMoE,IAAN,0BAA6B0D,KCoDzBC,GAAiB,SAACC,GAC7B,OAAO,SAAC9D,EAAUC,GDlDa,IAAC8D,ECmD9B/D,EAAS,CAAE5F,KvBvDsB,2BsBIH2J,ECqDZD,EDpDbhI,IAAMkI,IAAN,yCAA4CD,KCoDjB/H,MAC9B,SAAAmE,GACMA,EAAKA,KAAK/I,KACZ4I,EAAS,CAAE5F,KvB3DkB,4BuB4D7B4F,EAAS,CAAE5F,KvBhEuB,qCuBgEaI,QAAS2F,EAAKA,QAE1DH,EAAS,CAAE5F,KvB7De,+BuB+DjC,SAAApD,GAAK,OAAIgJ,EAAS,CAAE5F,KvB/Da,iCuBsF1B6J,GAAc,SAACC,EAASC,GACnC,OAAO,SAACnE,EAAUC,GAEhBD,EAAS,CAAE5F,KvBrFsB,2BuBwF5B8J,EAAQlL,SAAWkL,EAAQlL,QAAQwE,OAAS,GAC/CwC,EAAS,CAAE5F,KvBvFsB,0BuBuFSI,QAAS,8EDvF3B,SAAC0J,GAC7B,OAAOpI,IAAMC,KAAK,0BAA2BmI,GCyFzCE,CAAeF,GAASlI,MACtB,SAAAmE,GACMA,EAAKA,KAAK/I,IAEZuM,GAAsBQ,GAAgBnI,MACpC,SAAAmE,GACEH,EAAS,CAAE5F,KvB3GiB,qCuB2GmBI,QAAS2F,EAAKA,OAC7DH,EAAS,CAAE5F,KvBlGY,+BuBoGzB,SAAApD,GAAK,OAAIgJ,EAAS,CAAE5F,KvB7GU,0CuBgH7B4F,EAAS,CAAE5F,KvBtGa,+BuBwG/B,SAAApD,GAAK,OAAIgJ,EAAS,CAAE5F,KvBxGW,iCuBmH1BiK,GAAa,SAACF,GACzB,OAAO,SAACnE,EAAUC,GAChBD,EAAS,CAAE5F,KvBnHkB,sBsBEJ,SAAC+J,GAC5B,OAAOrI,IAAMwI,OAAN,2CAAiDH,ICiHtDI,CAAcJ,GAAgBnI,MAC5B,SAAAmE,GACMA,EAAKA,KAAK6B,QAAWhC,EAAS,CAAE5F,KvBrHT,wBuBsHpB4F,EAAS,CAAE5F,KvBrHS,2BuBuH7B,SAAApD,GAAK,OAAIgJ,EAAS,CAAE5F,KvBvHS,6BuB6ItBoK,GAAgB,SAACC,EAAWN,GACvC,OAAO,SAACnE,EAAUC,GAEhBD,EAAS,CAAE5F,KvB7IqB,uBuB6IOI,QAASiK,ID5IpB,SAACA,GAC/B,OAAO3I,IAAMwI,OAAN,qCAA2CG,IC8IhDC,CAAiBD,GAAWzI,MAC1B,SAAAmE,GACMA,EAAKA,KAAK6B,QAGZ2B,GAAsBQ,GAAgBnI,MACpC,SAAAmE,GACEH,EAAS,CAAE5F,KvBtJa,2BuBuJxB4F,EAAS,CAAE5F,KvB1KmB,qCuB0KiBI,QAAS2F,EAAKA,UAE/D,SAAAnJ,GAAK,OAAIgJ,EAAS,CAAE5F,KvB3KY,0CuB+K7B4F,EAAS,CAAE5F,KvB5JY,8BuB8JhC,SAAApD,GAAK,OAAIgJ,EAAS,CAAE5F,KvB9JY,gC,SwBQvBuK,G,kDAzBb,aAAe,IAAD,8BACZ,gBACKC,SAAW,SAACrJ,GACfA,EAAEM,iBACF,EAAKQ,MAAMuI,SAAS,EAAKvI,MAAMoD,QAJrB,E,qDAUZ,OACE,yBAAMoF,YAAazI,KAAKwI,UACrBxI,KAAKC,MAAM8F,W,GAbM2C,IAAM9G,WCoDjB+G,G,uKAhDH,IAAD,EAKH3I,KAAKC,MAHPuI,EAFK,EAELA,SACAI,EAHK,EAGLA,YAiBIC,GApBC,EAIL7K,KAgBgB4K,EAAYE,gBACxBC,EAAYH,EACfI,oBACAC,eAAeJ,EAAUK,eACzBC,UAEH,OACE,6BApBiB,CAGjB,CAACpD,MAAO,KAAM1C,MAAO,gBACrB,CAAC0C,MAAO,KAAM1C,MAAO,eACrB,CAAC0C,MAAO,KAAM1C,MAAO,eAErB,CAAC0C,MAAO,aAAc1C,MAAO,cAG7B,CAAC0C,MAAO,aAAc1C,MAAO,eAWdV,KAAI,SAACyG,GAAD,OACf,kBAAC,GAAD,CACEvG,IAAKuG,EAASrD,MACdyC,SAAUA,EACVa,OAAQD,EAAS/F,QAAU0F,EAC3BhD,MAAOqD,EAASrD,MAChB1C,MAAO+F,EAAS/F,gB,GAnCKzB,aCsClB0H,G,uKArCH,IAAD,EAIHtJ,KAAKC,MAFPuI,EAFK,EAELA,SAWIe,EAbC,EAGLX,YAU+BY,wBAEjC,OACE,6BAVmB,CACnB,CAACzD,MAAO,OAAQ1C,MAAO,QACvB,CAAC0C,MAAO,SAAU1C,MAAO,UAEzB,CAAC0C,MAAO,YAAa1C,MAAO,SAOXV,KAAI,SAACyG,GAAD,OACjB,kBAAC,GAAD,CACEvG,IAAKuG,EAASrD,MACdyC,SAAUA,EACVa,OAAQE,EAAaE,IAAIL,EAAS/F,OAClC0C,MAAOqD,EAASrD,MAChB1C,MAAO+F,EAAS/F,gB,GAxBMzB,aCS5B8H,G,kDACJ,WAAYzJ,GAAQ,IAAD,8BACjB,cAAMA,IACDnC,MAAQ,CACX8K,YAAae,eAAYC,eAG3B,EAAKC,MAAQ,kBAAM,EAAKC,KAAKC,OAAOF,SACpC,EAAKG,oBAAsB,EAAKA,oBAAoBxD,KAAzB,iBAC3B,EAAKyD,iBAAmB,EAAKA,iBAAiBzD,KAAtB,iBACxB,EAAK0D,MAAQ,EAAKA,MAAM1D,KAAX,iBACb,EAAK2D,gBAAkB,EAAKA,gBAAgB3D,KAArB,iBACvB,EAAK4D,kBAAoB,EAAKA,kBAAkB5D,KAAvB,iBAXR,E,gEAcE,IACXlH,EAAUU,KAAKC,MAAfX,MACR,GAAIA,EAAO,CACT,IAAM+K,EAAeC,0BAAeC,KAAKC,MAAMlL,IACzCsJ,EAAce,eAAYc,kBAAkBJ,GAClDrK,KAAKT,SAAS,CAAEqJ,mB,0CAIAA,GAAc,IACxB1H,EAAalB,KAAKC,MAAlBiB,SACRlB,KAAKT,SAAS,CAAEqJ,gBAGhB1H,EAASqJ,KAAKG,UAAUC,wBAAa/B,EAAYI,yB,uCAGlC4B,GACf,IAAMC,EAAWC,aAAUb,iBAAiBjK,KAAKlC,MAAM8K,YAAagC,GACpE,QAAIC,IACF7K,KAAKgK,oBAAoBa,IAClB,K,4BAKLE,GAEJ/K,KAAKgK,oBAAoBc,aAAUZ,MAAMa,EAAO/K,KAAKlC,MAAM8K,YAD1C,M,sCAIHG,GACd/I,KAAKgK,oBACHc,aAAUX,gBACRnK,KAAKlC,MAAM8K,YACXG,M,wCAKYiC,GAChBhL,KAAKgK,oBACHc,aAAUV,kBACRpK,KAAKlC,MAAM8K,YACXoC,M,wCAKYC,GACHA,EAAa9B,Y,+BAIlB,IAAD,EAKHnJ,KAAKC,MAHPjC,EAFK,EAELA,KACAkN,EAHK,EAGLA,OACAC,EAJK,EAILA,SAeEC,EAAkB,GACT,eAATpN,IAAuBoN,EAAkB,SAChC,kBAATpN,IAA0BoN,EAAkB,mBAEhD,IAAIjK,EAAc,GAIlB,MAHa,eAATnD,IAAuBmD,EAAc,mBAC5B,kBAATnD,IAA0BmD,EAAc,yBAG1C,8BACKgK,GAAY,6BACb,kBAAC,GAAD,CACEnN,KAAMA,EACN4K,YAAa5I,KAAKlC,MAAM8K,YACxBJ,SAAUxI,KAAKoK,oBAEjB,kBAAC,GAAD,CACEpM,KAAMA,EACN4K,YAAa5I,KAAKlC,MAAM8K,YACxBJ,SAAUxI,KAAKmK,mBAInB,yBAEE7I,QAAStB,KAAK6J,OAEd,kBAAC,UAAD,CACEwB,eAvCe,CACrB,KAAQ,CACNC,MAAO,UACPC,gBAAiB,UACjBC,OAAQ,oBACRC,WAAY,YACZC,QAAS,UACTC,OAAQ,YAiCJC,aAAc5L,KAAK6L,kBACnBV,SAAUA,EACVvC,YAAa5I,KAAKlC,MAAM8K,YACxB1H,SAAUlB,KAAKgK,oBACf7I,YAAaA,EACb8I,iBAAkBjK,KAAKiK,iBACvBC,MAAOlK,KAAKkK,MACZ4B,IAAI,aAILX,GAAY,kBAAC,GAAD,CAAQjF,aAAW,EAAC7C,MAAO,CAAE0I,UAAW,UAAYzK,QAAS4J,GACzEE,Q,GAjIcxJ,aAwIzB8H,GAAW7H,aAAe,CACxBsJ,UAAU,EACV7L,MAAO,KACPtB,KAAM,gBACNkD,SAAU,aACVgK,OAAQ,cAWKxB,UCjKTsC,G,uKACM,IAAD,EAkBHhM,KAAKC,MAhBPO,EAFK,EAELA,GACAyL,EAHK,EAGLA,WACA9L,EAJK,EAILA,SAEA+L,GANK,EAKLC,eALK,EAMLD,WACAE,EAPK,EAOLA,SACAC,EARK,EAQLA,YAEAC,GAVK,EASLzP,KATK,EAULyP,eACAC,EAXK,EAWLA,eACAC,EAZK,EAYLA,cACAzQ,EAbK,EAaLA,kBACA0Q,EAdK,EAcLA,YACAtQ,EAfK,EAeLA,mBACA0K,EAhBK,EAgBLA,aAIE6F,EAAcC,KAAOP,GACzBM,EAAcA,EAAYE,KAAKD,QAE/B,IAAIE,EAAW,GAOf,OANuBA,EAAnB9Q,EAA8B,uBACzByQ,EAAuB,qBAAiBF,EAAjB,KACL,IAAlBA,EAAgC,gBACd,IAAlBA,EAAgC,aAC5B,UAAMA,EAAN,cAGX,6BAAS5L,UAAU,qBACjB,6BAASA,UAAU,oCACjB,kBAAC,IAAD,CAAOc,IAAKyK,EAAYa,eAAa,IACrC,yBAAKpM,UAAU,6CACb,8BAAOP,GACP,0BAAMO,UAAU,cAAcgM,KAWlC,6BAAOR,GACP,6BACE,kBAAC,GAAD,CACEf,UAAU,EACV7L,MAAO+M,KAIX,6BAEE,kBAAC,GAAD,CAAQnG,aAAW,EAAC5E,QAAS,YAASvF,GAAqBwQ,EAAe/L,KACxE,4BACA,8BAAOqM,IAGRJ,GAAe,kBAAC,GAAD,CAAQvG,aAAW,EAAC5E,QAAS,WAAQuF,MACnD,4BACA,0CAIH1K,GAAsB,4D,GArENyF,aA6EzBoK,GAAWnK,aAAe,CACxBrB,GAAI,EACJyL,WAAY,KACZ9L,SAAU,YACVgM,eAAgB,SAChBD,UAAW,2BACXE,SAAU,YACVC,YAAa,icACbxP,KAAM,CAAC,QAAS,QAAS,UACzByP,cAAe,EACfC,eAAgB,aAChBC,eAAe,EACfzQ,mBAAmB,EACnB0Q,aAAa,EACbtQ,oBAAoB,EACpB0K,aAAc,cAqBDmF,UCnHTe,G,uKACM,IAAD,EAKH/M,KAAKC,MAHP+M,EAFK,EAELA,QACAC,EAHK,EAGLA,SACA/L,EAJK,EAILA,SAGF,OAAI8L,EAAgB,wDAGlB,kBAAC,GAAD,CACEhP,KAAK,aACLkN,OAAQ+B,EACR/L,SAAUA,Q,GAdKU,aAoBvBmL,GAASlL,aAAe,CACtBmL,SAAS,EACTC,SAAU,aACV/L,SAAU,SAAC5B,MASEyN,UC7BTG,G,uKACM,IAAD,EAaHlN,KAAKC,MAXPoI,EAFK,EAELA,UACA4D,EAHK,EAGLA,WACA9L,EAJK,EAILA,SACAgM,EALK,EAKLA,eACAgB,EANK,EAMLA,OACAC,EAPK,EAOLA,UACAC,EARK,EAQLA,OACAC,EATK,EASLA,cACAC,EAVK,EAULA,gBACA1G,EAXK,EAWLA,aACAxK,EAZK,EAYLA,gBAGEqQ,EAAcC,KAAOQ,GACzBT,EAAcA,EAAYE,KAAKD,QAE/B,IAAMF,EAAeY,IAAWC,GAAuC,UAApBC,EAEnD,OACE,6BACE,6BACE,yBAAM/L,IAAKyK,IACX,6BACE,kBAAC,IAAD,CAAMjJ,GAAE,gBAAWmJ,IAAoBhM,GAAYgM,GACnD,uBAAGvL,KAAI,iCAA4BuL,GAAkB9M,OAAO,UAC1D,4BACA,8BAAO8M,KAGX,6BAAOO,GACLD,GAAe,kBAAC,GAAD,CAASvG,aAAW,EAAC5E,QAAS,WAAQuF,EAAawB,KAClE,4BACA,0CAKJ,6BACE,kBAAC,GAAD,CACE8C,UAAQ,EACR7L,MAAO8N,KAIR/Q,IAAoBgM,GAAc,0D,GA/CvBzG,aAqDtBsL,GAAQrL,aAAe,CACrBwG,UAAW,QACX4D,WAAY,KACZ9L,SAAU,YACVgM,eAAgB,SAChBgB,OAAQ,YACRC,UAAW,+HACXC,OAAQ,QACRC,cAAe,QACfC,gBAAiB,OACjB1G,aAAc,aACdxK,gBAAiB,MAiBJ6Q,UCpETM,G,kDACJ,WAAYvN,GAAQ,IAAD,8BACjB,cAAMA,IACDnC,MAAQ,CAAE7B,eAAgB,IAFd,E,iEAMG,IAAD,EAIf+D,KAAKC,MAFP7D,EAFiB,EAEjBA,kBACAqR,EAHiB,EAGjBA,0BAGMvK,EAAUlD,KAAKC,MAAMkE,OAArBjB,MAGJ9G,IACFsR,IAAeC,KAAf,WAAwBzK,IACxB0K,YAAW,WAAQH,MAAgC,Q,6CAMrDzN,KAAKC,MAAM4N,qBAAqB,Q,8CAGVR,EAAQS,GAE9B,IADA,IAAIC,GAAY,EACPC,EAAI,EAAGA,EAAIF,EAAU1M,OAAQ4M,IAChCF,EAAUE,KAAOX,IAAQU,GAAY,GAE3C,OAAOA,I,0CAGY,IAAD,EAOd/N,KAAKC,MALPvF,EAFgB,EAEhBA,OACAmN,EAHgB,EAGhBA,YACAvL,EAJgB,EAIhBA,WACAL,EALgB,EAKhBA,eACAoR,EANgB,EAMhBA,OAGI7F,EAAkBxH,KAAKC,MAAMkE,OAAO7H,WACpC2R,EAAYjO,KAAKC,MAAMkE,OAAOjB,MAGpC2E,EACE,CACElC,SAJY7C,IAAEoL,KAAKxT,EAAQ,CAAE0I,WAAY6K,IAAajT,IAKtD2M,cAAerL,EAAWtB,IAC1BmT,QAASd,EACTzQ,QAASX,GAEXuL,K,yCAIgB,IACVlL,EAAe0D,KAAKC,MAAMkE,OAA1B7H,YAER2L,EADuBjI,KAAKC,MAApBgI,YACG3L,K,oCAGC+L,GAAY,IAChB/L,EAAe0D,KAAKC,MAAMkE,OAA1B7H,WACA8L,EAAkBpI,KAAKC,MAAvBmI,cACRA,EAAcC,EAAW/L,K,+BAGjB,IAAD,SAWH0D,KAAKC,MATP3D,EAFK,EAELA,WACAmL,EAHK,EAGLA,eACA1L,EAJK,EAILA,kBACA8R,EALK,EAKLA,qBACA7R,EANK,EAMLA,eACAE,EAPK,EAOLA,aACAG,EARK,EAQLA,gBACAF,EATK,EASLA,mBAMAnB,EAOEsB,EAPFtB,IACA4B,EAMEN,EANFM,QACAwR,EAKE9R,EALF8R,KACAN,EAIExR,EAJFwR,UACApR,EAGEJ,EAHFI,MACAG,EAEEP,EAFFO,KACAwR,EACE/R,EADF+R,SArBK,EA4BH/R,EAAWuB,KAHbzC,EAzBK,EAyBLA,UACAH,EA1BK,EA0BLA,KACAE,EA3BK,EA2BLA,SAIEsR,GAAc,EAEfnQ,EAAWuB,KAAK7C,MAAQgF,KAAKC,MAAMoN,QACZ,UAAxBrN,KAAKC,MAAMqO,WACX7B,GAAc,GAGhB,IAAMD,EAAgBxM,KAAKuO,wBAAwBvO,KAAKC,MAAMoN,OAAQS,GAEtE,OACE,6BAEE,kBAAC,GAAD,CACEtN,GAAIxF,EACJiR,WAAY7Q,EACZ+E,SAAUlF,GAAQE,EAClBgR,eAAgBhR,EAChB+Q,UAAWxP,EACX0P,SAAUgC,EACV/B,YAAazP,EACbC,KAAMA,EACNyP,cAAewB,EAAU1M,OACzBmL,eAAgB9E,EAChB+E,cAAeA,EACfzQ,kBAAmBA,EACnB0Q,YAAaA,EACbtQ,mBAAoBA,EACpB0K,aAAc7G,KAAKwO,iBAAiBhI,KAAKxG,QAI1C9D,GAAgB,6BAAOA,GAGxB,kBAAC,GAAD,CACE8Q,QAAShR,EACTiR,SAAUjN,KAAKyO,kBAAkBjI,KAAKxG,MACtCkB,SAAU,SAACtE,GAAciR,EAAqBjR,MAG/CyR,GAAYA,EAAS1L,KAAI,SAACmF,GACzB,OACE,kBAAC,GAAD,CACEjF,IAAKiF,EAAQ9M,IACbqN,UAAWP,EAAQ9M,IACnBiR,WAAYnE,EAAQjK,KAAKzC,UACzB+E,SAAU2H,EAAQjK,KAAK5C,KACvBkR,eAAgBrE,EAAQjK,KAAK1C,SAC7BgS,OAAQrF,EAAQsG,KAChBhB,UAAWtF,EAAQlL,QACnByQ,OAAQvF,EAAQqG,QAChBb,cAAe,EAAKrN,MAAMoN,OAC1BE,gBAAiB,EAAKtN,MAAMqO,SAC5BzH,aAAc,EAAKuB,cAAc5B,KAAK,GACtCnK,gBAAiBA,Y,GA5JAuF,aAqKhB6B,gBACb,SAAC3F,GACC,MAAO,CACLpD,OAAQoD,EAAMO,IAAI3D,OAClB2S,OAAQvP,EAAMD,KAAK7C,IACnBsT,SAAUxQ,EAAMD,KAAKrC,KACrBO,kBAAmB+B,EAAMxB,WAAWP,kBACpCI,mBAAoB2B,EAAMxB,WAAWH,mBACrCC,kBAAmB0B,EAAMxB,WAAWF,kBACpCH,eAAgB6B,EAAMxB,WAAWL,eACjCD,eAAgB8B,EAAMxB,WAAWN,eACjCE,aAAc4B,EAAMxB,WAAWJ,aAC/BG,gBAAiByB,EAAMxB,WAAWD,gBAClCzB,MAAOkD,EAAMxB,WAAW1B,UAG5B,SAACgJ,GACC,MAAO,CACL6D,eAAgB,SAACC,GAAmB9D,EAAS6D,GAAeC,KAC5DmG,qBAAsB,SAACjR,GAAcgH,ER5HlC,CACL5F,KvBzEkC,yBuB0ElCI,QQ0HqExB,KACnEiL,YAAa,SAACC,EAASC,GAAqBnE,EAASiE,GAAYC,EAASC,KAC1EE,WAAY,SAACF,GAAqBnE,EAASqE,GAAWF,KACtD0F,0BAA2B,WAAQ7J,GR7DhC,SAACA,EAAUC,GAChBD,EAAS,CAAE5F,KvBlIqB,6B+B+L9BoK,cAAe,SAACC,EAAWN,GAAqBnE,EAASwE,GAAcC,EAAWN,QAvBzEtE,CA0Bb+J,IC9MF,SAASkB,GAAczO,GAAQ,IAAD,EAEA0O,oBAAS,GAFT,oBAErBC,EAFqB,KAEbC,EAFa,KAItBhR,EAAOoC,EAAM3D,WAAWuB,KAExBiR,GADiB7O,EAAM3D,WAAWuB,KAAK1C,SACrB8E,EAAM3D,WAAWI,OACnCqS,EAAoB9O,EAAM3D,WAAWM,QACrCoS,EAAO/O,EAAM3D,WAAW8R,KAGxBa,GAFOhP,EAAM3D,WAAWO,KACToD,EAAM3D,WAAW4S,cACpBjP,EAAM3D,WAAWwR,UAAU1M,QAGrC9E,EAA+B2D,EAA/B3D,WAAY6S,EAAmBlP,EAAnBkP,eAGdC,EADWC,KAAOL,GACKpC,KAAKyC,QAElC,OACE,kBAACC,GAAA,EAAD,CAAM5O,UAAU,kBACd,kBAAC4O,GAAA,EAAKC,KAAN,KACE,6BAAS7O,UAAU,iCACjB,kBAAC,IAAD,CAAOc,IAAK3D,EAAKzC,UAAW0R,eAAa,IACzC,yBAAKpM,UAAU,6CACb,8BAAO7C,EAAK5C,MAAQ4C,EAAK1C,SAAzB,IAAuD,WAAnBgU,EAA8B,0BAAMzO,UAAU,aAAhB,YAA8C,MAChH,0BAAMA,UAAU,cAAc7C,EAAKrC,KAAnC,MAA4C4T,KAIhD,kBAAC,IAAD,CAAO5N,IAAK,0BAA4BlF,EAAWkT,OAAQC,OAAK,IAChE,kBAACH,GAAA,EAAKI,KAAN,KACGX,EAAkBY,MAErB,kBAAC,IAAD,CAAQrO,QAAS,kBAAMuN,GAAU,KAAjC,eACA,kBAACS,GAAA,EAAK5L,OAAN,KACE,6BACE,6BAAM,kBAAC,IAAD,CAAMV,GAzBT,IAyBoB8L,IACvB,6BAEE,8BAAQG,EAAR,kBAOR,kBAACW,GAAA,EAAD,CACEC,KAAK,KACLC,KAAMlB,EACNmB,OAAQ,kBAAMlB,GAAU,IACxBmB,kBAAgB,gCAEhB,kBAACJ,GAAA,EAAM3M,OAAP,CAAcgN,aAAW,GACvB,kBAACL,GAAA,EAAMM,MAAP,CAAa1P,GAAG,gCAAhB,gBAIF,kBAACoP,GAAA,EAAML,KAAP,KACE,kBAAC,GAAD,CAAkBjT,WAAYA,OAUxCoS,GAAc7M,aAAe,CAC3B6F,aAAc,EACduH,UAAW,GACXpR,KAAM,GACNsO,eAAgB,SAChB2C,gBAAiB,+BACjBE,KAAMK,OACNnS,aAAc,GACdL,KAAM,CAAC,QAAS,QAAS,UACzB+F,KAAM,GACNnE,aAAa,GAgBAiQ,UC9FTyB,G,2KACU,IAAD,EAIPnQ,KAAKC,MADPmQ,GAHS,EAETC,oBAFS,EAGTD,uBAGF,MAAwB,YAApBpQ,KAAKC,MAAMjC,KAEX,6BACE,0BAEEsD,QAAS,kBAAM8O,EAAsB,UAFvC,UAMA,0BAEE9O,QAAS,kBAAM8O,EAAsB,gBAFvC,YASC,O,gDAGiBE,EAAS5U,GACjC,IAAK4U,KACE5U,GAAsC,IAAvBA,EAAY0F,QAC9B,OAAO,oD,+BAKH,IAAD,EAOHpB,KAAKC,MALPjC,EAFK,EAELA,KACAsS,EAHK,EAGLA,QACA5U,EAJK,EAILA,YAEA+C,GANK,EAKL9D,aALK,EAML8D,aAGE8R,EAAqB,GAIzB,MAHa,YAATvS,IAAoBuS,EAAqB,eAChC,WAATvS,IAAmBuS,EAAqB,UAG1C,6BACE,6BACE,8BAAQA,IACL9R,GAAeuB,KAAKwQ,cAEvBF,GAAW,2CACXtQ,KAAKyQ,0BAA0BH,EAAS5U,IACvC4U,GACD,6BACI5U,GAAeA,EAAYiH,KAAI,SAACrG,GAAD,OAC/B,kBAAC,GAAD,CACEA,WAAYA,EACZmC,YAAaA,EACb0Q,eAAgBnR,EAChB6E,IAAKvG,EAAWtB,e,GAhEV4G,aA2EtBuO,GAAQtO,aAAe,CACrB7D,KAAM,UACNsS,SAAS,EACT5U,YAAa,GACbf,aAAc,UACd0V,oBAAqB,OACrBD,sBAAuB,SAACM,KACxBjS,aAAa,GAaA0R,UChGTQ,G,uKACM,IAENhW,EACEqF,KAAKC,MADPtF,aAGF,OACE,6BACE,kBAAC,IAAD,CAAMqI,GAAE,WAAMrI,EAAN,oBACN,kBAAC,GAAD,CAAQqD,KAAK,UAAUiI,WAAS,EAACC,aAAW,GAA5C,wB,GATYtE,aAmBtB+O,GAAQ9O,aAAe,CACrBlH,aAAc,WAODgW,ICXXC,GDWWD,MCTTE,G,kDACJ,WAAY5Q,GAAQ,IAAD,8BACjB,cAAMA,IAyBR6Q,qBAAuB,SAACC,GACtB,EAAKxR,SAAS,CAAEyR,aAAc,EAAKlT,MAAMmT,oBAAoBF,GAAUG,cAAc,KA3BpE,EA8BnBC,WAAa,WACX,EAAK5R,SAAS,CACZ6R,WAAW,KAhCI,EAoCnBC,mBAAqB,SAACC,EAAGC,GAEvB,IAAK,IAAIC,KAAQ,EAAK1T,MAAM2T,YAAa,CAEvC,IAAMC,EAAmBF,EAAKG,MAAM,KAC9BC,EAAoBC,SAASH,EAAiB,IAC9CI,EAAoBD,SAASH,EAAiB,IACpD,GAAKJ,GAAKM,GAAqBN,GAAMM,EAAoB,EAAK9T,MAAMiU,UAAeR,GAAKO,GAAqBP,GAAMO,EAAoB,EAAKhU,MAAMiU,SAAY,wBAC5J,IAAMhB,EAAU,EAAKjT,MAAM2T,YAAYD,GAwBvC,OAtBIvT,OAAO+T,KAAK,EAAKlU,MAAMmT,qBAAqBgB,SAASlB,IAAY,EAAKjT,MAAMmT,oBAAoBF,GAElG,EAAKD,qBAAqBC,GAE1B,EAAKxR,SAAS,CAAE2R,cAAc,IAAQ,WACpCxR,IAAMoE,IAAI,gCAAkCiN,EAAU,YAAc,EAAKjT,MAAMoU,gBAAgBtS,MAAK,SAAAuS,GAClG,EAAK5S,SAAS,CACZ0R,oBAAoB,6BACf,EAAKnT,MAAMmT,qBADG,mBAEhBF,EAAUoB,EAASpO,KAAKyL,WAG1B,kBACD,EAAKsB,qBAAqBC,SAG3BjR,OAAM,SAAAX,GAAC,OAAIY,QAAQnF,MAAMuE,SAMhC,QAzB4J,GAyB5J,QApEa,EA0EnBiT,cAAgB,SAACjT,GAKf,IAAMkT,EAAOlT,EAAEE,OAAOiT,wBAChBC,EAAUpT,EAAEoT,QACZC,EAAUrT,EAAEqT,QACZlB,EAAIiB,EAAUF,EAAKI,KACnBlB,EAAIiB,EAAUH,EAAKK,SAGXC,IAAV/B,IACFxW,OAAOwY,aAAahC,IAEtBA,GAAQxW,OAAOwT,YAAW,WAEnB,EAAK9P,MAAM+U,WACd,EAAKtT,SAAS,CACZ+R,EAAGiB,EACHhB,EAAGiB,IACF,WACI,EAAK1U,MAAMsT,WACd,EAAKC,mBAAmBC,EAAGC,QAQhC,MAzGc,EAkHnBuB,UAAY,SAACC,GACX,IAAMC,EAAU,EAAKC,OAAOC,QAAQC,WAAW,MACzCC,EAAM,IAAIC,MACVC,EAAI,gBACVF,EAAIG,OAAS,WAAa,IAAD,OAEnBzV,EAAQ,CACV0V,YAAaxT,KAAKyT,MAClBC,aAAc1T,KAAK2T,OACnBrD,SAAS,EACTmB,YAAasB,EAAgBa,OAAOnC,YACpCM,SAAUF,SAASkB,EAAgBa,OAAOC,YAI5CP,EAAK/T,SAASzB,GAAO,WACnBwV,EAAKL,OAAOC,QAAQO,MAAQH,EAAKxV,MAAM0V,YACvCF,EAAKL,OAAOC,QAAQS,OAASL,EAAKxV,MAAM4V,aACxCV,EAAQF,UAAU,EAAM,EAAG,EAAG,EAAKW,MAAO,EAAKE,YAKnDP,EAAI5R,IAAM,0BAA4BuR,EAAgBa,OAAOpE,QAvI7D,EAAK1R,MAAQ,CACXwS,SAAS,EACToD,aAAc,EACdF,YAAa,EACb/B,YAAa,KACbR,oBAAqB,GACrBG,WAAW,EACXJ,aAAc,GACd8C,uBAAuB,EACvBC,6BAA6B,EAC7BC,kBAAmB,KACnBC,mBAAoB,KACpBC,oBAAoB,EACpBC,eAAgB,GAChBpC,SAAU,KACVqC,WAAY,IACZC,YAAa,IACbC,QAAS,IACTC,aAAa,EACbrC,eAAgB,MAElB,EAAKe,OAASvK,IAAM8L,YAvBH,E,gEA2IE,IAAD,SAOdxU,KAAKC,MALPiS,EAFgB,EAEhBA,eACAuC,EAHgB,EAGhBA,eACArN,EAJgB,EAIhBA,qBACAsN,EALgB,EAKhBA,gBAKFD,EAAevC,KACf9K,EAAqB8K,KACrB,IAAMa,EAAkB2B,IAEpB3B,GACF/S,KAAKT,SAAS,CACZwT,oBACC,WACGA,EAAgBa,QAClB,EAAKrU,SAAS,CAAE2S,eAAgBa,EAAgB/X,MAAO,kBAAM,EAAK8X,UAAUC,W,yCAWjE4B,GAAY,IAAD,SAOxB3U,KAAKC,MALPtF,EAF0B,EAE1BA,aACAuX,EAH0B,EAG1BA,eACAuC,EAJ0B,EAI1BA,eACArN,EAL0B,EAK1BA,qBACAsN,EAN0B,EAM1BA,gBAOF,GAAIC,EAAUha,eAAiBA,EAAc,CAE3C8Z,EAAevC,KADK,GAEpB9K,EAAqB8K,KAFD,GAIpB,IAAMa,EAAkB2B,IAEpB3B,GACF/S,KAAKT,SAAS,CACZwT,oBACC,WACGA,EAAgBa,QAClB,EAAKrU,SAAS,CAAE2S,eAAgBa,EAAgB/X,MAAO,kBAAM,EAAK8X,UAAUC,Y,0CAWlE6B,GAAmB,IAAD,EAMhC5U,KAAKC,MAJPtF,EAFkC,EAElCA,aACA8Z,EAHkC,EAGlCA,eACAI,EAJkC,EAIlCA,oBAJkC,EAKlChZ,gBAGoB+Y,IACpBC,EAAoBD,GACpBH,EAAe9Z,GAAc,GAAO,M,mDAIV,IACpBA,EAAiBqF,KAAKC,MAAtBtF,aAER,OACE,6BACE,kBAAC,IAAD,CAAMqI,GAAE,WAAMrI,EAAN,oBACN,kBAAC,GAAD,CAAQqD,KAAK,UAAUiI,WAAS,EAACC,aAAW,GAA5C,sB,+BAQE,IAAD,SASHlG,KAAKC,MAPPtF,EAFK,EAELA,aACAe,EAHK,EAGLA,YACAD,EAJK,EAILA,oBACAG,EALK,EAKLA,kBACAD,EANK,EAMLA,0BACAE,EAPK,EAOLA,cACAjB,EARK,EAQLA,MAGF,OAAIA,EAEA,6BACGA,GAML,6BAAS8F,UAAU,cAEjB,kBAAC4D,EAAA,EAAD,KAAQ,wDAA0B3J,KAClC,kBAACma,GAAA,EAAD,CAAWpU,UAAU,+BAA+B+O,OAAK,GACvD,kBAACqF,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,CAASC,UAAU,QACjB3R,MAAO,CAAEC,QAAStD,KAAKlC,MAAMwS,UAAYtQ,KAAKlC,MAAM2T,YAAc,OAAS,QAASiB,IAAK1S,KAAKlC,MAAMyT,EAAGkB,KAAMzS,KAAKlC,MAAMwT,GAAKhQ,QAAS,kBAAM,EAAK/B,SAAS,CAAE6R,WAAW,KACvK6D,WAAY,kBAAM,EAAK1V,SAAS,CAAEsT,WAAW,KAAUqC,YAAa,kBAAM,EAAK3V,SAAS,CAAEsT,WAAW,MAErG,kBAACkC,GAAA,EAAQI,QAAT,KACGnV,KAAKlC,MAAMoT,aAAe,yBAAKxQ,UAAU,yDAAwD,yBAAKA,UAAU,iBAAiBlF,KAAK,UACrI,0BAAMkF,UAAU,WAAhB,gBACa,kBAAC,IAAD,CAAgBc,IAAK,2BAA6BxB,KAAKlC,MAAMkT,aAActP,WAAS,MAKvG,4BAAQ0T,YAAapV,KAAKoS,cAAetG,IAAK9L,KAAKiT,WAGvD,kBAAC6B,GAAA,EAAD,CAAWzR,MAAO,CAAEC,QAAS,SAC3B,kBAAC+R,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,CAAKC,GAAG,KACN,kBAAC,GAAD,CACEvX,KAAK,SACLsS,QAAS3U,EACTD,YAAaE,EACbjB,aAAcA,IAGhB,kBAAC,GAAD,CACEqD,KAAK,UACLsS,QAAS7U,EACTC,YAAaA,EACbf,aAAcA,EACdyV,sBAAuBpQ,KAAKwV,oBAAoBhP,KAAKxG,MACrDqQ,oBAAqBxU,IAGtBmE,KAAKyV,8BAER,kBAACH,GAAA,EAAD,CAAKC,GAAG,KACN,kBAACjG,GAAA,EAAD,CAAM5O,UAAU,QACd,kBAAC4O,GAAA,EAAKrM,OAAN,wBACA,kBAACqM,GAAA,EAAKC,KAAN,KAEE,kBAACD,GAAA,EAAKI,KAAN,KACG1P,KAAKlC,MAAMiV,gBAAkB,kBAAC,IAAD,CAAgBvR,IAAK,2BAA6BxB,KAAKlC,MAAMiV,gBAAgBvD,OAAQC,OAAK,IAAM,KADhI,oWASJ,kBAACH,GAAA,EAAD,KACE,kBAACA,GAAA,EAAKrM,OAAN,iBACA,kBAACqM,GAAA,EAAKC,KAAN,KACE,kBAACD,GAAA,EAAKY,MAAN,gCACA,kBAACZ,GAAA,EAAKI,KAAN,oFAYV,yBAAKrM,MAAO,CAAEC,QAAS,SACrB,kBAAC,GAAD,CAAS3I,aAAcA,KAEzB,kBAACiV,GAAA,EAAD,CAAOC,KAAK,KAAKC,KAAM9P,KAAKlC,MAAMsT,UAAWrB,OAAQ/P,KAAKmR,YACxD,kBAACvB,GAAA,EAAM3M,OAAP,CAAcgN,aAAW,IAEzB,kBAACL,GAAA,EAAML,KAAP,CAAY7O,UAAU,eACpB,yBAAKA,UAAU,uBACb2C,MAAO,CACLsQ,OAAQ,OACR+B,gBAAiB,gCAAkC1V,KAAKlC,MAAMkT,aAAe,KAC7E2E,iBAAkB,YAClBC,eAAgB,UAChBC,mBAAoB,aAG1B,kBAACjG,GAAA,EAAMlM,OAAP,KACE,kBAAC,IAAD,CAAiBrC,QAAQ,YAAYC,QAAStB,KAAKmR,YAAnD,gB,GAtVYvP,aAgWT6B,gBACb,SAAC3F,GACC,MAAO,CACLnD,aAAcmD,EAAMO,IAAI1D,aACxBuX,eAAgB,WACd,IAAMa,EAAkBjQ,IAAEoL,KAAKpQ,EAAMO,IAAI3D,OAAQ,CAAE0I,WAAYtF,EAAMO,IAAI1D,eACzE,OAAIoY,EAAwBA,EAAgB/X,IAChC,MAEd0Z,gBAAiB,WACf,IAAM3B,EAAkBjQ,IAAEoL,KAAKpQ,EAAMO,IAAI3D,OAAQ,CAAE0I,WAAYtF,EAAMO,IAAI1D,eACzE,OAAIoY,GACQ,MAEdtX,oBAAqBqC,EAAMQ,KAAK7C,oBAChCC,YAAaoC,EAAMQ,KAAK5C,YACxBC,0BAA2BmC,EAAMQ,KAAK3C,0BACtCE,cAAeiC,EAAMQ,KAAKzC,cAC1BD,kBAAmBkC,EAAMQ,KAAK1C,kBAC9BhB,MAAOkD,EAAMQ,KAAK1D,UAGtB,SAACgJ,GACC,MAAO,CACL6Q,eAAgB,SAACvC,EAAgB7K,EAAaxL,EAAeia,GAAqBlS,EdtW1D,SAAC8B,GAAsD,IAA7C2B,EAA4C,wDAAzByO,EAAyB,wDAClF,OAAO,SAAClS,EAAUC,GAChB,IAAMhI,EAAgBgI,IAAWvF,KAAKzC,eAGlCwL,GAAeyO,IAAgBlS,EAAS,CAAE5F,KtB/CR,+BsBiDjC0H,EAKHyB,GAAiBzB,EAAS7J,GAAe+D,MACvC,SAAAmE,GAAI,OAAIH,EAAS,CAAE5F,KtBrDiB,+BsBqDmBI,QAAS2F,EAAKA,UACrE,SAAAnJ,GAAK,OAAIgJ,EAAS,CAAE5F,KtBrDgB,oCsB+CtC4F,EAAS,CAAE5F,KtBvCY,mBoCqYoEyW,CAAevC,EAAgB7K,EAAaxL,EAAeia,KACtJ1O,qBAAsB,SAAC8K,EAAgB7K,GAAkBzD,EAASwD,GAAqB8K,EAAgB7K,KACvGwN,oBAAqB,SAACkB,GAAanS,EdvTN,SAACmS,GAClC,MAAO,CAAE/X,KtBlF0B,wBsBkFGI,QAAS2X,GcsTClB,CAAoBkB,QA1BvDtS,CA6BboN,IC/YImF,G,kDACJ,WAAY/V,GAAQ,IAAD,8BACjB,cAAMA,IACDnC,MAAQ,CAAEwB,OAAO,GAFL,E,sEAKO2W,GAAY,IAC5B3W,EAAU2W,EAAV3W,MACRU,KAAKT,SAAS,CAAED,Y,kCAGNA,GACVU,KAAKC,MAAMiB,SAAS5B,GACpBU,KAAKT,SAAS,CAAED,Y,+BAGR,IAAD,OACCA,EAAUU,KAAKlC,MAAfwB,MAER,OACE,6BACE,2DAEA,6BACE,kBAAC,GAAD,CACE6G,eAAc7G,EACdgC,QAAS,WAAQ,EAAK4U,aAAY,KAFpC,OAOA,kBAAC,GAAD,CACE/P,cAAe7G,EACfgC,QAAS,WAAQ,EAAK4U,aAAY,KAFpC,Y,GA/BctU,aA4CxBoU,GAAUnU,aAAe,CACvBX,SAAU,SAACwP,KACXpR,OAAO,GAQM0W,U,UCtDTG,G,uKACM,IAAD,EAKHnW,KAAKC,MAHPhF,EAFK,EAELA,KACAmb,EAHK,EAGLA,WACAC,EAJK,EAILA,aAGF,OACE,6BACGpb,EACCmb,GACA,kBAAC,GAAD,CACE9U,QAAS+U,GAGT,kC,GAhBMzU,aAwBlBuU,GAAItU,aAAe,CACjB5G,KAAM,GACNmb,YAAY,EACZC,aAAc,cASDF,UClCTG,G,kDACJ,WAAYrW,GAAQ,IAAD,8BACjB,cAAMA,IAEDnC,MAAQ,CACXtB,SAAU,KACVK,KAAM,GACN0Z,QAAS,IANM,E,sEAUON,GAAY,IAC5B3W,EAAU2W,EAAV3W,MACRU,KAAKT,SAAS,CAAE1C,KAAMyC,EAAO9C,SAAU,S,kCAG7B+Z,GAEV,MADc,2BACDC,KAAKD,K,8BAGZA,GAAU,IACR1Z,EAASmD,KAAKlC,MAAdjB,KACJ4Z,GAAU,EAId,OAHA5Z,EAAK8F,KAAI,SAAC+T,GACJA,IAAQH,IAASE,GAAU,MAE1BA,I,+BAGC,IAAD,EAKHzW,KAAKlC,MAHPyY,EAFK,EAELA,QACA1Z,EAHK,EAGLA,KAHK,EAILL,SAGF,GAAIwD,KAAK2W,YAAYJ,GACnB,GAAKvW,KAAK4W,QAAQL,GAShBvW,KAAKT,SAAS,CAAE/C,SAAU,oBATA,CAC1B,IAAMqa,EAAUha,EAAKia,OAAOP,GAC5BvW,KAAKT,SAAS,CACZ1C,KAAMga,EACNra,SAAU,KACV+Z,QAAS,KAEXvW,KAAKC,MAAMiB,SAAS2V,QAKtB7W,KAAKT,SAAS,CAAE/C,SAAU,sH,gCAIpBua,GAAW,IACXla,EAASmD,KAAKlC,MAAdjB,KACFga,EAAO,uBAAOha,EAAKma,MAAM,EAAGD,IAArB,aAAmCla,EAAKma,MAAMD,EAAW,EAAGla,EAAKuE,UAC9EpB,KAAKT,SAAS,CAAE1C,KAAMga,IACtB7W,KAAKC,MAAMiB,SAAS2V,K,mCAGR,IAAD,OAGX,OAFiB7W,KAAKlC,MAAdjB,KAEI8F,KAAI,SAAC+T,EAAK1I,GACpB,OACE,kBAAC,GAAD,CACE/S,KAAMyb,EACN7T,IAAK6T,EACLN,YAAU,EACVC,aAAc,WAAQ,EAAKY,UAAUjJ,W,oCAM9B,IAAD,SAIRhO,KAAKlC,MAFPyY,EAFU,EAEVA,QACA1Z,EAHU,EAGVA,KAEMqa,EAAgBlX,KAAKC,MAArBiX,YAER,OAAKra,EAAKuE,OAAS8V,EAEf,6BACE,2BAEE/V,YAAa,cACb7B,MAAOiX,EACPrV,SAAU,SAAC/B,GAAQ,EAAKI,SAAS,CAAEgX,QAASpX,EAAEE,OAAOC,WAEvD,kBAAC,GAAD,CAEEgC,QAAS,WAAQ,EAAK6V,WAEtB,8BAMD,O,+BAGC,IAAD,EAKHnX,KAAKlC,MAHPtB,EAFK,EAELA,SAFK,EAGL+Z,QAHK,EAIL1Z,KAGsBmD,KAAKC,MAArBiX,YAER,OACE,6BACE,6BACE,uCACElX,KAAKoX,aACLpX,KAAKqX,eAEP7a,GAAY,6BAAOA,Q,GAzHLoF,aA+HxB0U,GAAUzU,aAAe,CACvBvC,MAAO,GACP4X,YAAa,EACbhW,SAAU,SAACrE,MASEyZ,UC5HFgB,GAAiB,SAACjK,EAAQ3H,EAAS/K,GAC9C,OAAO,SAACiJ,EAAUC,GAChBD,EAAS,CAAE5F,KtCzByB,6BsCwBP,MAWzB6F,IAAWtF,cALb7B,EAN2B,EAM3BA,MACAC,EAP2B,EAO3BA,KACAC,EAR2B,EAQ3BA,QACAC,EAT2B,EAS3BA,KACAC,EAV2B,EAU3BA,OAGEya,GAAY,EAEhB,OAAKlK,GAAW3H,EAQF,OAAVhJ,GAAkBA,EAAM0E,OAAS,IACnCmW,GAAY,EACL3T,EAAS,CACd5F,KtC/CkC,6BsCgDlCI,QAAS,6CAIG,OAAZxB,GAAuC,IAAnBA,EAAQwE,QAC9BmW,GAAY,EACL3T,EAAS,CACd5F,KtCvDkC,6BsCwDlCI,QAAS,oDAIAuU,IAAThW,GACF4a,GAAY,EACL3T,EAAS,CACd5F,KtC/DkC,6BsCgElCI,QAAS,yBAIA,OAATvB,GAAiC,IAAhBA,EAAKuE,QACxBmW,GAAY,EACL3T,EAAS,CACd5F,KtCvEkC,6BsCwElCI,QAAS,oCAKTmZ,GC9EyB,SAACjb,GAChC,IAAM0I,EAAW,IAAIC,SACrB,IAAK,IAAIuM,KAAQlV,EACf0I,EAASE,OAAOsM,EAAMlV,EAAWkV,IAKnC,OAAQ9R,IAAMC,KAAK,gCAAiCqF,EAAU,CAC5Df,iBAAiB,EACjBoB,QAAS,CACP,eAAgB,yBDoEhBmS,CAAkB,CAChBnK,SACA3H,UACAhJ,QACAE,UACAC,OACAC,SACAH,SACCiD,MACD,SAACmE,IAC+B,IAA1BA,EAAKA,KAAK0T,aACZ7T,EAAS,CAAE5F,KtC1FmB,+BsC2F9B4P,YAAW,WAAQhK,EAAS,CAAE5F,KtClFL,4BsCkFwC,KAGjE0P,IAAeC,KAAf,WAAwBhT,EAAxB,uBAAmDoJ,EAAKA,KAAKyD,mBAE7D5D,EAAS,CACP5F,KtChG4B,6BsCiG5BI,QAAS,oEAIf,SAACxD,GACCgJ,EAAS,CACP5F,KtCvG8B,6BsCwG9BI,QAASxD,SAnEf2c,GAAY,EACL3T,EAAS,CACd5F,KtCvCkC,6BsCwClCI,QAAS,2CErBXsZ,G,kDACJ,WAAYzX,GAAQ,IAAD,8BACjB,cAAMA,IAEDnC,MAAQ,CACX4H,QAAS,KACT2H,OAAQ,KACRsK,WAAY,KACZC,UAAW,MAPI,E,gEAWE,IAAD,EAKd5X,KAAKC,MAHPpC,EAFgB,EAEhBA,KACAlD,EAHgB,EAGhBA,aACAD,EAJgB,EAIhBA,OAGFsF,KAAK6X,kBAAkBha,EAAMnD,EAAQC,K,gDAGbsb,GAAY,IAElCpY,EAGEoY,EAHFpY,KACAlD,EAEEsb,EAFFtb,aACAD,EACEub,EADFvb,OAGFsF,KAAK6X,kBAAkBha,EAAMnD,EAAQC,K,wCAGrBkD,EAAMnD,EAAQC,GAC9B,IAAM+K,EAAU5C,IAAEoL,KAAKxT,EAAQ,CAAE0I,WAAYzI,IAC7C,GAAI+K,EAAS,CACX,IAAMwM,EAAiBxM,EAAQ1K,IAC/BgF,KAAKT,SAAS,CACZmG,QAASwM,EACT7E,OAAQxP,EAAK7C,WAGfgF,KAAKT,SAAS,CACZoY,WAAY,iD,qCAKF,IAAD,EAIT3X,KAAKC,MAAMpC,KAFb9C,EAFW,EAEXA,cACAS,EAHW,EAGXA,KAHW,EAcTwE,KAAKC,MAPP6X,EAPW,EAOXA,sBACAC,EARW,EAQXA,qBACAC,EATW,EASXA,wBACAC,EAVW,EAUXA,0BACAC,EAXW,EAWXA,qBACAZ,EAZW,EAYXA,eACA3c,EAbW,EAaXA,aAbW,EAuBTqF,KAAKC,MAAM1B,cANb7B,EAjBW,EAiBXA,MACAE,EAlBW,EAkBXA,QACAC,EAnBW,EAmBXA,KACAC,EApBW,EAoBXA,OApBW,KAqBXH,KAOEqD,KAAKlC,OAFP4H,EA1BW,EA0BXA,QACA2H,EA3BW,EA2BXA,OAIF,OAAItS,EACK,CACL,2BACE8H,IAAK,QACL7E,KAAK,OAELmD,YAAa,sBACb7B,MAAO5C,EACPwE,SAAU,SAAC6J,GAAY+M,EAAsB/M,EAAM1L,OAAOC,UAElD,UAAT9D,GAAqB,kBAAC,GAAD,CACpBqH,IAAK,SACLvD,MAAOxC,EACPoE,SAAU,SAAC5B,GAAY2Y,EAA0B3Y,MAEnD,kBAAC,GAAD,CACEuD,IAAK,OACLvD,MAAOzC,EACPqE,SAAU,SAACrE,GAAWqb,EAAqBrb,MAE7C,kBAAC,GAAD,CACEgG,IAAK,UACL7E,KAAK,gBACLsB,MAAO1C,EACPsE,SAAU,SAAC5B,GAAY0Y,EAAwB1Y,IAC/C4L,OAAQ,WAAQoM,EAAejK,EAAQ3H,EAAS/K,MAElD,yBAAKkI,IAAK,QACR,6CACA,2BAEE7E,KAAM,OACN8I,OAAO,aACP7L,KAAK,OACLiG,SAAU,SAAC/B,GAAQ4Y,EAAqB5Y,EAAEE,OAAO0H,MAAM,SAO7D,kF,+BAMM,IACA4Q,EAAe3X,KAAKlC,MAApB6Z,WAER,GAAIA,EAAc,OAAQ,6BAAOA,GAH1B,IAKChd,EAAiBqF,KAAKC,MAAtBtF,aALD,EAUHqF,KAAKC,MAAM1B,cAHb/B,EAPK,EAOLA,SACAD,EARK,EAQLA,eACAE,EATK,EASLA,kBAGF,OACE,6BACE,kBAAC6H,EAAA,EAAD,KAAQ,4DAER,qEACuC,8BAAQ3J,GAD/C,WAGA,6BAAO6B,GACND,GAAkB,+DAClByD,KAAKmY,eACL1b,GAAqB,2D,GAnJFmF,aAyJb6B,gBACb,SAAC3F,GACC,MAAO,CACLD,KAAMC,EAAMD,KACZnD,OAAQoD,EAAMO,IAAI3D,OAClBC,aAAcmD,EAAMO,IAAI1D,aACxB4D,cAAeT,EAAMS,kBAIzB,SAACqF,GACC,MAAO,CACL0T,eAAgB,SAACjK,EAAQ3H,EAAS/K,GAAmBiJ,EAAS0T,GAAejK,EAAQ3H,EAAS/K,KAC9Fmd,sBAAuB,SAACxY,GACtBsE,EFrE6B,SAACtE,GAEpC,MAAO,CACLtB,KtCtHmC,0BsCuHnCI,QAASkB,GEiEIwY,CAAsBxY,KAEjCyY,qBAAsB,SAACzY,GACrBsE,EF7CC,CACL5F,KtC7IkC,yBsC8IlCI,QE2CkCkB,KAEhC0Y,wBAAyB,SAAC1Y,GAAYsE,EF7DL,SAACtE,GACtC,MAAO,CACLtB,KtCjIqC,4BsCkIrCI,QAASkB,GE0DwC0Y,CAAwB1Y,KACvE2Y,0BAA2B,SAAC3Y,GAAYsE,EFrCL,SAACtE,GACxC,MAAO,CACLtB,KtCxJwC,+BsCyJxCI,QAASkB,GEkC0C2Y,CAA0B3Y,KAC3E4Y,qBAAsB,SAAC5Y,GAAYsE,EF1BL,SAACtE,GACnC,MAAO,CACLtB,KtCnKkC,yBsCoKlCI,QAASkB,GEuBqC4Y,CAAqB5Y,QArBxDmE,CAwBbiU,ICnMIU,G,uKACM,IAAD,EAMHpY,KAAKC,MAJPhF,EAFK,EAELA,KACAoF,EAHK,EAGLA,WACAhG,EAJK,EAILA,SACAe,EALK,EAKLA,UAGF,OACE,6BACE,6BACE,yBAAMoG,IAAKpG,EAAWqG,IAAG,UAAKxG,EAAL,cAE3B,6BACE,6BAAQA,GACR,6BAAM,4BAAN,IAAiBoF,GACjB,6BAAQhG,S,GAjBIuH,aAwBtBwW,GAAQvW,aAAe,CACrB5G,KAAM,cACNoF,WAAY,aACZhG,SAAU,yBACVe,UAAW,sBAUEgd,UC3BFC,GAAmB,SAACC,GAC/B,OAAO,SAAC1U,EAAUC,GAChBD,EAAS,CAAE5F,KxCjByB,6ByCML,SAACsa,GAClC,OAAO5Y,IAAMoE,IAAN,4BAA+BwU,IDYpCC,CAAoBD,GAAU1Y,MAC5B,SAAAmE,GACMA,EAAKA,KAAKnJ,MAAOgJ,EAAS,CAAE5F,KxCnBE,+BwCoB7B4F,EAAS,CAAE5F,KxCrBkB,6BwCqBgBI,QAAS2F,EAAKA,UAElE,SAAAnJ,GAAK,OAAIgJ,EAAS,CAAE5F,KxCtBgB,oC0CcpCwa,G,mLAIFH,EAF6BrY,KAAKC,MAA1BoY,kBACarY,KAAKC,MAAMkE,OAAxBhJ,Y,gDAIgBsd,GAAU,IAEhBC,EAAgB1Y,KAAKC,MAAMkE,OAArChJ,SACUwd,EAAmBF,EAAStU,OAAtChJ,SAGJud,IAAgBC,IAElBN,EAD6BrY,KAAKC,MAA1BoY,kBACSM,K,+BAIX,IAAD,EAKH3Y,KAAKC,MAHPxC,EAFK,EAELA,gBACAC,EAHK,EAGLA,QACA9C,EAJK,EAILA,MAGF,GAAIA,EACF,OAAO,6BAAQA,GARV,IAYLK,EAKEyC,EALFzC,KACAE,EAIEuC,EAJFvC,SACAC,EAGEsC,EAHFtC,UACAwd,EAEElb,EAFFkb,OACAld,EACEgC,EADFhC,YAGF,OAAI+B,EAEA,0DAOF,6BACE,kBAAC6G,EAAA,EAAD,KAAQ,yCAAWrJ,GAAQE,EAAnB,gBAER,6BACE,kBAAC,GAAD,CACEF,KAAMA,EACNoF,WAAYlF,EACZd,SAAUue,EAAOve,SACjBe,UAAWA,IAGb,kBAAC,GAAD,CACEqD,aAAW,EACXT,KAAK,UACLtC,YAAaA,U,GA7DCkG,aAqEX6B,gBACb,SAAC3F,GAAY,MAAO,CAClBL,gBAAiBK,EAAMW,YAAYhB,gBACnCC,QAASI,EAAMW,YAAYf,QAC3B9C,MAAOkD,EAAMW,YAAY7D,UAE3B,SAACgJ,GAAe,MAAO,CACrByU,iBAAkB,SAACC,GAAe1U,EAASyU,GAAiBC,QAPjD7U,CASb+U,ICpFaK,G,uKANX,OACE,qF,GAHiBjX,aCkBvBkX,IAASC,OACL,kBAAC,IAAD,CAAUla,MAAOma,GACb,kBAAC,IAAD,CAAQC,QAASvL,KACb,kBAAC,IAAD,CAAOwL,KAAK,SAASC,UAAW1U,GAC5B,kBAAC,IAAD,CAAY0U,UAAWnS,MAE3B,kBAAC,IAAD,CAAOkS,KAAK,IAAIC,UAAWjV,GACvB,kBAAC,IAAD,CAAYiV,UAAWtI,KACvB,kBAAC,IAAD,CAAOqI,KAAK,SAASC,UAAWtI,KAChC,kBAAC,IAAD,CAAOqI,KAAK,gCAAgCC,UAAW3L,KACvD,kBAAC,IAAD,CAAO0L,KAAK,wBAAwBC,UAAWzB,KAC/C,kBAAC,IAAD,CAAOwB,KAAK,iBAAiBC,UAAWX,KACxC,kBAAC,IAAD,CAAOU,KAAK,IAAIC,UAAWN,QAIvCO,SAASC,eAAe,SzD+FtB,kBAAmBC,WACrBA,UAAUC,cAAcC,MACrB5Z,MAAK,SAAA6Z,GACJA,EAAaC,gBAEd5Z,OAAM,SAAAlF,GACLmF,QAAQnF,MAAMA,EAAM+e,c","file":"static/js/main.be5fe845.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import {\n  START_FETCHING_FORUMS,\n  STOP_FETCHING_FORUMS,\n  FETCHING_FORUMS_SUCCESS,\n  FETCHING_FORUMS_FAILURE,\n  UPDATECURRENTFORUM,\n  START_FETCHING_USER,\n  FETCHING_USER_SUCCESS,\n  FETCHING_USER_FAILURE,\n} from './constants';\n\nconst initialState = {\n  fetchingForums: false,\n  forums: null,\n  currentForum: 'general',\n  error: false,\n};\n\n/**\n * reducer for top level app state\n */\nexport const appReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case START_FETCHING_FORUMS:\n      return Object.assign({}, state, {\n        fetchingForums: true,\n      });;\n\n    case STOP_FETCHING_FORUMS:\n      return Object.assign({}, state, {\n        fetchingForums: false,\n      });;\n\n    case FETCHING_FORUMS_SUCCESS:\n      return Object.assign({}, state, {\n        forums: action.payload,\n        fetchingForums: false,\n        error: false,\n      });\n\n    case FETCHING_FORUMS_FAILURE:\n      return Object.assign({}, state, {\n        fetchingForums: false,\n        error: 'Unable to fetch forums',\n      });\n\n    case UPDATECURRENTFORUM:\n      return Object.assign({}, state, {\n        currentForum: action.payload,\n      });\n\n    default:\n      return state;\n  }\n};\n\n/**\n * reducer for user\n */\nconst initialUserState = {\n  fetchingUser: true,\n  authenticated: false,\n  error: null,\n  _id: null,\n  name: null,\n  email: null,\n  username: null,\n  avatarUrl: null,\n  githubUrl: null,\n  githubLocation: null,\n  githubBio: null,\n  role: null,\n};\n\nexport const userReducer = (state = initialUserState, action) => {\n  switch (action.type) {\n    case START_FETCHING_USER:\n      return Object.assign({}, state, {\n        fetchUser: true,\n      });\n\n    case FETCHING_USER_SUCCESS:\n      const {\n        _id,\n        name,\n        username,\n        avatarUrl,\n        email,\n        githubBio,\n        githubUrl,\n        githubLocation,\n        role,\n      } = action.payload;\n\n      return Object.assign({}, state), {\n        fetchingUser: false,\n        authenticated: true,\n        error: null,\n        _id,\n        name,\n        username,\n        avatarUrl,\n        email,\n        githubBio,\n        githubUrl,\n        githubLocation,\n        role,\n      };\n\n    case FETCHING_USER_FAILURE:\n      return Object.assign({}, initialUserState, {\n        fetchingUser: false,\n        error: 'Unable to fetch user!',\n      });\n\n    default:\n      return state;\n  }\n};\n","import {\n  START_FETCHING_DISCUSSIONS,\n  STOP_FETCHING_DISCUSSIONS,\n  FETCHING_DISCUSSIONS_SUCCESS,\n  FETCHING_DISCUSSIONS_FAILURE,\n\n  START_FETCHING_PINNED_DISCUSSIONS,\n  STOP_FETCHING_PINNED_DISCUSSIONS,\n  FETCHING_PINNED_DISCUSSIONS_SUCCESS,\n  FETCHING_PINNED_DISCUSSIONS_FAILURE,\n\n  UPDATE_SORTING_METHOD,\n  INVALID_FORUM,\n} from './constants';\n\nconst initialState = {\n  fetchingDiscussions: true,\n  discussions: null,\n  fetchingPinnedDiscussions: true,\n  pinnedDiscussions: null,\n  sortingMethod: 'date',\n  error: null,\n};\n\nexport const feedReducer = (state = initialState, action) => {\n  switch(action.type) {\n    case START_FETCHING_DISCUSSIONS:\n      return Object.assign({}, state, {\n        fetchingDiscussions: true,\n        error: null,\n      });;\n\n    case STOP_FETCHING_DISCUSSIONS:\n      return Object.assign({}, state, {\n        fetchingDiscussions: false,\n      });;\n\n    case FETCHING_DISCUSSIONS_SUCCESS:\n      return Object.assign({}, state, {\n        discussions: action.payload,\n        fetchingDiscussions: false,\n        error: null,\n      });\n\n    case FETCHING_DISCUSSIONS_FAILURE:\n      return Object.assign({}, state, {\n        fetchingDiscussions: false,\n        error: 'Unable to fetch discussions at the moment.',\n      });\n\n    case START_FETCHING_PINNED_DISCUSSIONS:\n      return Object.assign({}, state, {\n        fetchingPinnedDiscussions: true,\n        error: null,\n      });;\n\n    case STOP_FETCHING_PINNED_DISCUSSIONS:\n      return Object.assign({}, state, {\n        fetchingPinnedDiscussions: false,\n      });;\n\n    case FETCHING_PINNED_DISCUSSIONS_SUCCESS:\n      return Object.assign({}, state, {\n        pinnedDiscussions: action.payload,\n        fetchingPinnedDiscussions: false,\n        error: null,\n      });\n\n    case FETCHING_PINNED_DISCUSSIONS_FAILURE:\n      return Object.assign({}, state, {\n        fetchingPinnedDiscussions: false,\n        error: 'Unable to fetch pinned discussions at the moment.',\n      });\n\n\n    case UPDATE_SORTING_METHOD:\n      return Object.assign({}, state, {\n        sortingMethod: action.payload,\n      });\n\n    case INVALID_FORUM:\n      return Object.assign({}, state, {\n        error: 'Sorry, couldn\\'t find the forum.',\n        fetchingPinnedDiscussions: false,\n        fetchingDiscussions: false,\n      });\n\n    default:\n      return state;\n  }\n};\n","import {\n  FETCHING_SINGLE_DISC_START,\n  FETCHING_SINGLE_DISC_END,\n  FETCHING_SINGLE_DISC_SUCCESS,\n  FETCHING_SINGLE_DISC_FAILURE,\n\n  TOGGLE_FAVORITE_START,\n  TOGGLE_FAVORITE_SUCCESS,\n  TOGGLE_FAVORITE_FAILURE,\n\n  UPDATE_OPINION_CONTENT,\n\n  POSTING_OPINION_START,\n  POSTING_OPINION_SUCCESS,\n  POSTING_OPINION_FAILURE,\n\n  DELETE_DISC_START,\n  DELETE_DISC_SUCCESS,\n  DELETE_DISC_FAILURE,\n  DELETE_DISC_REDIRECT,\n\n  DELETE_OPINION_START,\n  DELETE_OPINION_SUCCESS,\n  DELETE_OPINION_FAILURE,\n} from './constants';\n\nconst initialState = {\n  fetchingDiscussion: true,\n  toggleingFavorite: false,\n  postingOpinion: false,\n  opinionContent: null,\n  opinionError: null,\n  deletingDiscussion: false,\n  deletedDiscussion: false,\n  deletingOpinion: null,\n  discussion: null,\n  error: null,\n};\n\nexport const singleDiscussionReducer = (state = initialState, action) => {\n  switch(action.type) {\n    case FETCHING_SINGLE_DISC_START:\n      return Object.assign({}, state, {\n        fetchingDiscussion: true,\n      });\n\n    case FETCHING_SINGLE_DISC_END:\n      return Object.assign({}, state, {\n        fetchingDiscussion: false,\n      });\n\n    case FETCHING_SINGLE_DISC_SUCCESS:\n      return Object.assign({}, state, {\n        discussion: action.payload,\n        fetchingDiscussion: false,\n        error: null,\n      });\n\n    case FETCHING_SINGLE_DISC_FAILURE:\n      return Object.assign({}, state, {\n        fetchingDiscussion: false,\n        error: 'Unable to fetch discussion. Please check out the url.',\n      });\n\n    case TOGGLE_FAVORITE_START:\n      return Object.assign({}, state, {\n        toggleingFavorite: true,\n      });\n\n    case TOGGLE_FAVORITE_SUCCESS:\n    case TOGGLE_FAVORITE_FAILURE:\n      return Object.assign({}, state, {\n        toggleingFavorite: false,\n      });\n\n    case UPDATE_OPINION_CONTENT:\n      return Object.assign({}, state, {\n        opinionContent: action.payload,\n      });\n\n    case POSTING_OPINION_START:\n      return Object.assign({}, state, {\n        postingOpinion: true,\n        opinionError: null,\n      });\n\n    case POSTING_OPINION_SUCCESS:\n      return Object.assign({}, state, {\n        postingOpinion: false,\n        opinionContent: null,\n        opinionError: null,\n      });\n\n    case POSTING_OPINION_FAILURE:\n      return Object.assign({}, state, {\n        postingOpinion: false,\n        opinionContent: null,\n        opinionError: action.payload,\n      });\n\n    case DELETE_DISC_START:\n      return Object.assign({}, state, {\n        deletingDiscussion: true,\n      });\n\n    case DELETE_DISC_SUCCESS:\n      return Object.assign({}, state, {\n        deletingDiscussion: false,\n        deletedDiscussion: true,\n      });\n\n    case DELETE_DISC_FAILURE:\n      return Object.assign({}, state, {\n        deletingDiscussion: false,\n        deletedDiscussion: false,\n      });\n\n    case DELETE_DISC_REDIRECT:\n      return Object.assign({}, state, {\n        deletedDiscussion: false,\n      });\n\n    case DELETE_OPINION_START:\n      return Object.assign({}, state, {\n        deletingOpinion: action.payload,\n      });\n\n    case DELETE_OPINION_SUCCESS:\n    case DELETE_OPINION_FAILURE:\n      return Object.assign({}, state, {\n        deletingOpinion: null,\n      });\n\n    default:\n      return state;\n  }\n};\n","import {\n  POSTING_DISCUSSION_START,\n  POSTING_DISCUSSION_SUCCESS,\n  POSTING_DISCUSSION_FAILURE,\n\n  UPDATE_DISCUSSION_TITLE,\n  UPDATE_DISCUSSION_CONTENT,\n  UPDATE_DISCUSSION_PIN_STATUS,\n  UPDATE_DISCUSSION_TAGS,\n\n  CLEAR_SUCCESS_MESSAGE,\n  UPDATE_DISCUSSION_TILE,\n} from './constants';\n\nconst initialState = {\n  postingSuccess: false,\n  errorMsg: null,\n  postingDiscussion: false,\n  title: '',\n  tile: null,\n  content: null,\n  tags: [],\n  pinned: false,\n};\n\nexport const newDiscussionReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case POSTING_DISCUSSION_START:\n      return Object.assign({}, state, {\n        postingDiscussion: true,\n      });\n\n    case POSTING_DISCUSSION_SUCCESS:\n      return Object.assign({}, initialState, {\n        postingSuccess: true,\n        postingDiscussion: false,\n        errorMsg: null,\n      });\n\n    case POSTING_DISCUSSION_FAILURE:\n      return Object.assign({}, state, {\n        postingSuccess: false,\n        postingDiscussion: false,\n        errorMsg: action.payload || 'Unable to post discussion.',\n      });\n\n    case CLEAR_SUCCESS_MESSAGE:\n      return Object.assign({}, initialState, {\n        postingSuccess: false,\n      });\n\n    case UPDATE_DISCUSSION_TITLE:\n      return Object.assign({}, state, {\n        title: action.payload,\n      });\n\n    case UPDATE_DISCUSSION_CONTENT:\n\n      return Object.assign({}, state, {\n\n        content: action.payload,\n      });\n\n    case UPDATE_DISCUSSION_TILE:      \n      return Object.assign({}, state, {\n        tile: action.payload,\n      });\n\n    case UPDATE_DISCUSSION_PIN_STATUS:\n      return Object.assign({}, state, {\n        pinned: action.payload,\n      });\n\n    case UPDATE_DISCUSSION_TAGS:\n      return Object.assign({}, state, {\n        tags: action.payload,\n      });\n\n    default:\n      return state;\n  }\n};\n","import {\n  GET_ALL_INFO_START,\n  GET_ALL_INFO_SUCCESS,\n  GET_ALL_INFO_FAILURE,\n\n  CREATE_FORUM,\n  CREATE_FORUM_SUCCESS,\n  CREATE_FORUM_FAILURE,\n\n  DELETE_FORUM,\n  DELETE_FORUM_SUCCESS,\n  DELETE_FORUM_FAILURE,\n} from './constants';\n\nconst initialState = {\n  loadingInfo: false,\n  info: {\n    discussionCount: 0,\n    opinionCount: 0,\n    forumCount: 0,\n    userCount: 0,\n    forums: [],\n  },\n  error: null,\n\n  creatingForum: false,\n  creatingForumError: null,\n\n  deletingForum: false,\n  deletingForumError: null,\n};\n\nexport const adminInfoReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case GET_ALL_INFO_START:\n      return Object.assign({}, state, {\n        loadingInfo: true,\n        error: null,\n      });\n\n    case GET_ALL_INFO_SUCCESS:\n      return Object.assign({}, state, {\n        loadingInfo: false,\n        info: action.payload,\n        error: null,\n      });\n\n    case GET_ALL_INFO_FAILURE:\n      return Object.assign({}, state, {\n        loadingInfo: false,\n        error: 'Something went wrong while loading admin level information.',\n      });\n\n    case CREATE_FORUM:\n      return Object.assign({}, state, {\n        creatingForumError: null,\n        creatingForum: true,\n      });\n\n    case CREATE_FORUM_SUCCESS:\n      return Object.assign({}, state, {\n        creatingForum: false,\n        creatingForumError: null,\n      });\n\n    case CREATE_FORUM_FAILURE:\n      return Object.assign({}, state, {\n        creatingForum: false,\n        creatingForumError: 'Something went wrong while trying to create the forum. Please try again. Also check out if the forum already exists.',\n      });\n\n    case DELETE_FORUM:\n      return Object.assign({}, state, {\n        deletingForum: true,\n        deletingForumError: null,\n      });\n\n    case DELETE_FORUM_SUCCESS:\n      return Object.assign({}, state, {\n        deletingForum: false,\n        deletingForumError: null,\n      });\n\n    case DELETE_FORUM_FAILURE:\n      return Object.assign({}, state, {\n        deletingForum: false,\n        deletingForumError: 'Something went wrong while trying to delete the forum. Please try again later.',\n      });\n\n    default:\n      return state;\n  }\n};\n","import {\n  FETCH_USER_PROFILE_START,\n  FETCH_USER_PROFILE_SUCCESS,\n  FETCH_USER_PROFILE_FAILURE,\n} from './constants';\n\nconst initialState = {\n  fetchingProfile: true,\n  profile: {},\n  error: null,\n};\n\nexport const userProfileReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case FETCH_USER_PROFILE_START:\n      return Object.assign({}, state, {\n        fetchingProfile: true,\n        error: null,\n      });\n\n    case FETCH_USER_PROFILE_SUCCESS:\n      return Object.assign({}, state, {\n        fetchingProfile: false,\n        profile: action.payload,\n        error: null,\n      });\n\n    case FETCH_USER_PROFILE_FAILURE:\n      return Object.assign({}, state, {\n        fetchingProfile: false,\n        error: 'Unable to fetch user profile. Please check out for correct username.',\n      });\n\n    default:\n      return state;\n  }\n};\n","import { createStore, applyMiddleware, compose } from 'redux';\nimport { combineReducers } from 'redux';\nimport thunk from 'redux-thunk';\n\nimport { appReducer, userReducer } from './reducers';\nimport { feedReducer } from '../Views/ForumFeed/reducers';\nimport { singleDiscussionReducer } from '../Views/SingleDiscussion/reducers';\nimport { newDiscussionReducer } from '../Views/NewDiscussion/reducers';\nimport { adminInfoReducer } from '../Views/AdminDashboard/reducers';\nimport { userProfileReducer } from '../Views/UserProfile/reducers';\n\n// root reducer for app\nconst rootReducer = combineReducers({\n  user: userReducer,\n  app: appReducer,\n  feed: feedReducer,\n  discussion: singleDiscussionReducer,\n  newDiscussion: newDiscussionReducer,\n  adminInfo: adminInfoReducer,\n  userProfile: userProfileReducer,\n});\n\n// dev tool extension\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\n// application store\nlet store = createStore(\n  rootReducer,\n  /* preloaded state, */\n  composeEnhancers(\n    applyMiddleware(thunk)\n  )\n);\n\nexport default store;\n","export const UPDATECURRENTFORUM = 'update_current_forum';\n\nexport const START_FETCHING_FORUMS = 'start_fetching_forums';\nexport const STOP_FETCHING_FORUMS = 'stop_fetching_forums';\nexport const FETCHING_FORUMS_SUCCESS = 'fetching_forums_success';\nexport const FETCHING_FORUMS_FAILURE = 'fetching_forums_failure';\n\nexport const START_FETCHING_USER = 'start_fetching_user';\nexport const FETCHING_USER_SUCCESS = 'fetching_user_success';\nexport const FETCHING_USER_FAILURE = 'fetching_user_failure';\nexport const SIGNOUT_USER_SUCCESS = 'signOut_user_success';\nexport const SIGNOUT_USER_FAILURE = 'signOut_user_failure';\n","export const START_FETCHING_DISCUSSIONS = 'start_fetching_discussions';\nexport const STOP_FETCHING_DISCUSSIONS = 'stop_fetching_discussions';\nexport const FETCHING_DISCUSSIONS_SUCCESS = 'fetching_discussions_success';\nexport const FETCHING_DISCUSSIONS_FAILURE = 'fetching_discussions_failure';\n\nexport const START_FETCHING_PINNED_DISCUSSIONS = 'start_fetching_pinned_discussions';\nexport const STOP_FETCHING_PINNED_DISCUSSIONS = 'stop_fetching_pinned_discussions';\nexport const FETCHING_PINNED_DISCUSSIONS_SUCCESS = 'fetching_pinned_discussions_success';\nexport const FETCHING_PINNED_DISCUSSIONS_FAILURE = 'fetching_pinned_discussions_failure';\n\nexport const UPDATE_SORTING_METHOD = 'update_sorting_method';\nexport const INVALID_FORUM = 'invalid_forum';\n","export const FETCHING_SINGLE_DISC_START = 'fetching_single_discussion_start';\nexport const FETCHING_SINGLE_DISC_END = 'fetching_single_discussion_end';\nexport const FETCHING_SINGLE_DISC_SUCCESS = 'fetching_single_discussion_success';\nexport const FETCHING_SINGLE_DISC_FAILURE = 'fetching_single_discussion_failure';\n\nexport const TOGGLE_FAVORITE_START = 'toggle_favorite_start';\nexport const TOGGLE_FAVORITE_SUCCESS = 'toggle_favorite_success';\nexport const TOGGLE_FAVORITE_FAILURE = 'toggle_favorite_failure';\n\nexport const UPDATE_OPINION_CONTENT = 'update_opinion_content';\n\nexport const POSTING_OPINION_START = 'posting_opinion_start';\nexport const POSTING_OPINION_SUCCESS = 'posting_opinion_success';\nexport const POSTING_OPINION_FAILURE = 'posting_opinion_failure';\n\nexport const DELETE_DISC_START = 'delete_disc_start';\nexport const DELETE_DISC_SUCCESS = 'delete_disc_success';\nexport const DELETE_DISC_FAILURE = 'delete_disc_failure';\nexport const DELETE_DISC_REDIRECT = 'delete_disc_redirect';\n\nexport const DELETE_OPINION_START = 'delete_opinion_start';\nexport const DELETE_OPINION_SUCCESS = 'delete_opinion_success';\nexport const DELETE_OPINION_FAILURE = 'delete_opinion_failure';\n","export const POSTING_DISCUSSION_START = 'posting_discussion_start';\nexport const POSTING_DISCUSSION_END = 'posting_discussion_end';\nexport const POSTING_DISCUSSION_SUCCESS = 'posting_discussion_success';\nexport const POSTING_DISCUSSION_FAILURE = 'posting_discussion_failure';\n\nexport const UPDATE_DISCUSSION_TITLE = 'update_discussion_title';\nexport const UPDATE_DISCUSSION_CONTENT = 'update_discussion_content';\nexport const UPDATE_DISCUSSION_TILE = 'update_discussion_tile';\nexport const UPDATE_DISCUSSION_PIN_STATUS = 'update_discussion_pin_status';\nexport const UPDATE_DISCUSSION_TAGS = 'update_discussion_tags';\n\nexport const CLEAR_SUCCESS_MESSAGE = 'clear_success_message';\n","export const GET_ALL_INFO_START = 'get_all_info_start';\nexport const GET_ALL_INFO_SUCCESS = 'get_all_info_success';\nexport const GET_ALL_INFO_FAILURE = 'get_all_info_failure';\n\nexport const CREATE_FORUM = 'create_forum';\nexport const CREATE_FORUM_SUCCESS = 'create_forum_success';\nexport const CREATE_FORUM_FAILURE = 'create_forum_failure';\n\nexport const DELETE_FORUM = 'delete_forum';\nexport const DELETE_FORUM_SUCCESS = 'delete_forum_success';\nexport const DELETE_FORUM_FAILURE = 'delete_forum_failure';\n","export const FETCH_USER_PROFILE_START = 'fetch_user_profile_start';\nexport const FETCH_USER_PROFILE_SUCCESS = 'fetch_user_profile_success';\nexport const FETCH_USER_PROFILE_FAILURE = 'fetch_user_profile_failure';\n","import React, { Component } from 'react';\nimport { Button, Image, Navbar, Nav, NavDropdown, Form } from 'react-bootstrap';\nimport axios from 'axios';\n\n\nclass UserMenu extends Component {\n  constructor() {\n    super();\n    this.state = {\n      userInput: ''\n    }\n  }\n  inputChange = (e) => {\n    const userInput = e.target.value;\n\n    this.setState({ userInput });\n  }\n\n  logIn = (e) => {\n    e.preventDefault()\n    axios.post(`/api/user/authViaGitHub?user=${this.state.userInput}`).then(function (res) {\n      window.location = '/'\n      \n    })\n      .catch(function (error) {\n        console.error(error)\n      })\n  }\n  render() {\n    const {\n      signedIn,\n      userName,\n      avatar,\n      gitHandler\n\n    } = this.props;\n\n\n\n\n    return (\n      <div>\n        <Navbar.Collapse id=\"basic-navbar-nav\">\n          <Nav className=\"mr-auto\">\n            <Nav.Link href=\"#home\">Home</Nav.Link>\n            <Nav.Link href=\"#link\">Link</Nav.Link>\n            <NavDropdown title={signedIn ? userName : 'Sign Up / Sign In'} id=\"basic-nav-dropdown\">\n              {!signedIn && <Form className=\"p-3\">\n                <Form.Group controlId=\"formBasicEmail\">\n                  <Form.Control type=\"text\" onChange={this.inputChange} placeholder=\"Enter user\" />\n                </Form.Group>\n\n                {this.state.userInput.length ? <Button variant=\"primary\" type=\"submit\" onClick={this.logIn}>\n                  Submit\n                </Button> : null}\n              </Form>}\n\n              {signedIn && <span onClick={this.toggleSubMenu}>\n                <Image src={avatar} alt={`${userName} Avatar`} thumbnail />\n\n                <NavDropdown.Item href={`/user/${gitHandler}`}>My Profile</NavDropdown.Item>\n\n              </span>}\n              {/* { signedIn && <a  href={'#'}>Settings</a> } */}\n              {signedIn &&\n                <NavDropdown.Item href={`/user/${gitHandler}`}>Sign Out</NavDropdown.Item>\n              }\n            </NavDropdown>\n          </Nav>\n\n        </Navbar.Collapse>\n\n\n      </div>\n    );\n\n\n\n  }\n}\n\nUserMenu.defaultProps = {\n  signedIn: false,\n  userName: '',\n  gitHandler: '',\n  avatar: '',\n};\n\n/* UserMenu.propTypes = {\n  signedIn: React.PropTypes.bool.isRequired,\n  userName: React.PropTypes.string,\n  gitHandler: React.PropTypes.string,\n  avatar: React.PropTypes.string,\n}; */\n\nexport default UserMenu;\n","import React, { Component } from 'react';\n\n\nconst Logo = () => {\n  return (\n    <div >\n      <div >\n        <svg viewBox=\"0 0 100 100\"xmlns=\"http://www.w3.org/2000/svg\">\n          <g id=\"Group\" stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n            <path d=\"M51.1388842,81.5721454 L69.5667388,100 L92.0066458,100 C96.4114635,100 100,96.4212534 100,92.0066458 L100,7.99335421 C100,3.58853654 96.4212534,0 92.0066458,0 L7.99335421,0 C3.58853654,0 0,3.57874658 0,7.99335421 L0,92.0066458 C0,96.4114635 3.57874658,100 7.99335421,100 L10.5882353,100 L10.5882353,44.7058824 C10.7474244,24.5366987 27.1464843,8.23529412 47.3529412,8.23529412 C67.6575276,8.23529412 84.1176471,24.6954136 84.1176471,45 C84.1176471,64.0263195 69.6647717,79.676989 51.1388842,81.5721454 Z M24.2232146,73.5788183 L24.1176471,73.6843859 L50.4332612,100 L24.1176471,100 L24.1176471,73.4929507 C24.1527823,73.521637 24.1879715,73.5502596 24.2232146,73.5788183 Z\" id=\"Combined-Shape\" fill=\"#F1C40F\"></path>\n            <circle id=\"Oval\" fill=\"#F1C40F\" cx=\"47.6470588\" cy=\"45.2941176\" r=\"23.5294118\"></circle>\n          </g>\n        </svg>\n      </div>\n      <div >ReForum</div>\n    </div>\n  );\n};\n\nexport default Logo;\n","import React, { Component } from 'react';\nimport { Link, IndexLink } from 'react-router';\n\nimport _ from 'lodash';\n\n\nclass NavigationBar extends Component {\n  render() {\n    const {\n      navigationLinks,\n    } = this.props;\n\n    if (navigationLinks) {\n      return (\n        <section className=\"w-100 navigation-bar\">\n          <ul className=\"d-flex justify-content-around\">\n            {navigationLinks.map(link => {\n              if (link.id === 0) {\n                return (\n                  <li key={_.uniqueId('navLink_')}>\n                    <IndexLink\n\n\n                      to='/'\n                    >\n                      Home\n                  </IndexLink>\n                  </li>\n                );\n              }\n\n              return (\n                <li key={_.uniqueId('navLink_')}>\n                  <Link\n\n\n                    to={link.link}\n                  >\n                    {link.name}\n                  </Link>\n                </li>\n              );\n            })}\n          </ul>\n        </section>\n\n      );\n    }\n\n    return null;\n  }\n}\n\nNavigationBar.defaultProps = {\n  navigationLinks: [\n    {\n      id: 0,\n      name: 'General',\n      link: '/',\n    },\n  ],\n};\n\n/* NavigationBar.propTypes = {\n  navigationLinks: React.PropTypes.array,\n}; */\n\nexport default NavigationBar;\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Navbar } from 'react-bootstrap';\n\n\n\n\n// components for Header\nimport UserMenu from '../../Components/Header/UserMenu';\nimport Logo from '../../Components/Header/Logo';\nimport NavigationBar from '../../Components/Header/NavigationBar';\n\n\nclass Header extends Component {\n  renderNavLinks() {\n    const { forums } = this.props;\n\n    if (forums) {\n      return forums.map((forum) => {\n        return {\n          id: forum._id,\n          name: forum.forum_name,\n          link: `/${forum.forum_slug}`,\n        };\n      });\n    }\n\n    return null;\n  }\n\n  render() {\n    const {\n      authenticated,\n      name,\n      username,\n      avatarUrl,\n    } = this.props.user;\n\n    return (\n      <header style={{display: 'none'}}>\n        <Navbar className=\"flex-wrap\" variant=\"dark\">\n          <Navbar.Brand href=\"#home\">Navbar</Navbar.Brand>\n          <UserMenu\n            signedIn={authenticated}\n            userName={name || username}\n            gitHandler={username}\n            avatar={avatarUrl}\n          />\n\n          <NavigationBar\n            navigationLinks={this.renderNavLinks()}\n          />\n        </Navbar>\n      </header>\n\n    );\n  }\n}\n\nexport default connect(\n  (state) => {\n    return {\n      user: state.user,\n      forums: state.app.forums,\n    };\n  }\n)(Header);\n","import React, { Component } from 'react';\n\n\nclass Footer extends Component {\n  render() {\n    return (\n      <div >\n        {/* Copyright? Who cares? :-) */}\n      </div>\n    );\n  }\n}\n\n\nFooter.defaultProps = {\n};\n\n/* Footer.propTypes = {\n}; */\n\nexport default Footer;\n","import _ from 'lodash';\nimport {\n  START_FETCHING_FORUMS,\n  STOP_FETCHING_FORUMS,\n  FETCHING_FORUMS_SUCCESS,\n  FETCHING_FORUMS_FAILURE,\n  UPDATECURRENTFORUM,\n  START_FETCHING_USER,\n  FETCHING_USER_SUCCESS,\n  FETCHING_USER_FAILURE,\n} from './constants';\nimport {\n  fetchForums,\n  fetchUser,\n  signOut,\n} from './api';\n\n/**\n * get all forum list\n * @return {action}\n */\nexport const getForums = () => {\n  return (dispatch, getState) => {\n    dispatch({ type: START_FETCHING_FORUMS });\n\n    fetchForums().then(\n      data => dispatch({ type: FETCHING_FORUMS_SUCCESS, payload: data.data }),\n      error => dispatch({ type: FETCHING_FORUMS_FAILURE })\n    );\n  };\n};\n\n/**\n * update current forum when route change occurs\n * @param  {String} currentForum\n * @return {action}\n */\nexport const updateCurrentForum = (currentForum) => {\n  return {\n    type: UPDATECURRENTFORUM,\n    payload: currentForum,\n  };\n};\n\n/**\n * get the current user from server\n * @return {action}\n */\nexport const getUser = () => {\n  return (dispatch, getState) => {\n    dispatch({ type: START_FETCHING_USER });\n\n    fetchUser().then(\n      data => {\n        if (!data.data._id) dispatch({ type: FETCHING_USER_FAILURE });\n        else dispatch({ type: FETCHING_USER_SUCCESS, payload: data.data });\n      },\n      error => dispatch({ type: FETCHING_USER_FAILURE })\n    );\n  };\n};\n","import axios from 'axios';\n\nexport const fetchForums = (forum_id) => {\n  return axios.get('/api/forum');\n};\n\nexport const fetchUser = () => {\n  return axios.get('/api/user/getUser', {withCredentials: true});\n};\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Helmet } from 'react-helmet';\n\nimport Header from '../Containers/Header';\nimport Footer from '../Components/Footer';\nimport './style/style.scss';\n\n\nimport { getForums, updateCurrentForum, getUser } from './actions';\n\nclass AppContainer extends Component {\n  componentDidMount() {\n    const {\n      params,\n      updateCurrentForum,\n      getForums,\n      getUser,\n    } = this.props;\n\n    // get all forum list\n    getForums();\n\n    // check for authenticated user\n    getUser();\n\n    // set current forum based on route\n    const currentForum = params.forum || '';\n    updateCurrentForum(currentForum);\n  }\n\n  componentDidUpdate() {\n    const {\n      forums,\n      params,\n      currentForum,\n      updateCurrentForum,\n    } = this.props;\n\n    let newCurrentForum = '';\n    if (params.forum) newCurrentForum = params.forum;\n    else if (forums && forums.length) newCurrentForum = forums[0].forum_slug;\n\n    // update current forum if necessery\n    if (newCurrentForum !== currentForum) updateCurrentForum(newCurrentForum);\n  }\n\n  render() {\n    const { forums } = this.props;\n\n    // render only if we get the forum lists\n    if (forums) {\n      return (\n        <div>\n          <Helmet ><title>Mosaic Forum</title></Helmet>\n\n\n          <Header />\n          \n          {this.props.children}\n          <Footer />\n        </div>\n      );\n    }\n\n    return (\n      <div >Loading...</div>\n    );\n  }\n}\n\nexport default connect(\n  (state) => {\n    return {\n      forums: state.app.forums,\n      currentForum: state.app.currentForum,\n    };\n  },\n  (dispatch) => {\n    return {\n      getForums: () => { dispatch(getForums()); },\n      updateCurrentForum: (currentForum) => { dispatch(updateCurrentForum(currentForum)); },\n      getUser: () => { dispatch(getUser()); },\n    };\n  }\n)(AppContainer);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router';\n\n\n\n\n\n// components for AdminHeader\nimport UserMenu from '../../Components/Header/UserMenu';\nimport Logo from '../../Components/Header/Logo';\nimport NavigationBar from '../../Components/Header/NavigationBar';\n\n\nclass AdminHeader extends Component {\n  renderNavLinks() {\n    return [\n      { name: 'Dashboard', link: '/admin' },\n    ];\n  }\n\n  render() {\n    const {\n      authenticated,\n      name,\n      username,\n      avatarUrl,\n    } = this.props.user;\n\n    return (\n      <div >\n        <div >\n          <Logo />\n          Welcome Admin\n          <UserMenu\n            signedIn={authenticated}\n            userName={name || username}\n            gitHandler={username}\n            avatar={avatarUrl}\n          />\n        </div>\n        <NavigationBar\n          navigationLinks={this.renderNavLinks()}\n        />\n      </div>\n    );\n  }\n}\n\nexport default connect(\n  (state) => { return {\n    user: state.user,\n    forums: state.app.forums,\n  }; }\n)(AdminHeader);\n","import React, { Component } from 'react';\nimport { Link, browserHistory } from 'react-router';\nimport { connect } from 'react-redux';\nimport { Helmet } from 'react-helmet';\n\nimport { getUser } from './actions';\n\nimport AdminHeader from '../Containers/AdminHeader';\n\n\n\nclass AdminContainer extends Component {\n  componentDidMount() {\n    // fetch the user\n    this.props.getUser();\n  }\n\n  render() {\n    const { user } = this.props;\n\n    if (user.fetchingUser) {\n      return (\n        <div style={{ textAlign: 'center', marginTop: 20 }}>\n          Loading users profile...\n        </div>\n      );\n    }\n\n    if (user.role === 'admin') {\n      return (\n        <div>\n          <Helmet><title>ReForum | Admin</title></Helmet>\n          <AdminHeader />\n          {this.props.children}\n        </div>\n      );\n    }\n    else {\n      return (\n        <div style={{ textAlign: 'center', marginTop: 20 }}>\n          We are cordially sorry that you are not allowed to view admin panel!<br />\n          Please go back to <Link to='/'>root</Link> page.\n        </div>\n      );\n    }\n\n    return (\n      <div style={{ textAlign: 'center', marginTop: 20 }}>\n        Something went wrong.<br />\n        Please go back to <Link to='/'>root</Link> page.\n      </div>\n    );\n  }\n}\n\nexport default connect(\n  (state) => { return {\n    user: state.user,\n  }; },\n  (dispatch) => { return {\n    getUser: () => { dispatch(getUser()); },\n  }; }\n)(AdminContainer);\n","import axios from 'axios';\n\n\nexport const getAdminDashboardInfoAPI = () => {\n  return (axios.get('/api/admin/admin_dashboard_info'));\n};\n\nexport const createForumAPI = (forum_obj) => {\n  const formData = new FormData();\n  \n  formData.append('img', forum_obj.mosaicImage);\n  formData.append('title', forum_obj.title);\n  formData.append('slug', forum_obj.slug);\n\n  return (axios.post('/api/admin/create_forum', formData, {\n    headers: {\n      'Content-Type': 'multipart/form-data'\n    }\n  }));\n};\n\nexport const deleteForumAPI = (forum_id) => {\n  return (axios.post('/api/admin/delete_forum', { forum_id }));\n};\n","import {\n  GET_ALL_INFO_START,\n  GET_ALL_INFO_SUCCESS,\n  GET_ALL_INFO_FAILURE,\n\n  CREATE_FORUM,\n  CREATE_FORUM_SUCCESS,\n  CREATE_FORUM_FAILURE,\n\n  DELETE_FORUM,\n  DELETE_FORUM_SUCCESS,\n  DELETE_FORUM_FAILURE,\n} from './constants';\n\nimport {FETCHING_DISCUSSIONS_FAILURE} from '../ForumFeed/constants'\n\nimport {\n  getAdminDashboardInfoAPI,\n  createForumAPI,\n  deleteForumAPI,\n} from './api';\n\n/**\n * get all the info needed for dashboard\n * @return {action}\n */\nexport const getAdminDashboardInfo = () => {\n  return (dispatch, getState) => {\n    dispatch({ type: GET_ALL_INFO_START });\n\n    getAdminDashboardInfoAPI().then(\n      data => dispatch({ type: GET_ALL_INFO_SUCCESS, payload: data.data }),\n      error => dispatch({ type: FETCHING_DISCUSSIONS_FAILURE, payload: error })\n    );\n  };\n};\n\n/**\n * create a new forum\n * @param  {Object} forumObj\n * @return {action}\n */\nexport const createForum = (forumObj) => {\n  return (dispatch, getState) => {\n    dispatch({ type: CREATE_FORUM });\n\n    // call the create forum api\n    createForumAPI(forumObj).then(\n      forumData => {\n        // get admin info again to refresh the infos\n        getAdminDashboardInfoAPI().then(\n          data => {\n            // data is refreshed\n            dispatch({ type: GET_ALL_INFO_SUCCESS, payload: data.data });\n\n            // check if the forum was created\n            if (forumData.data.created) { dispatch({ type: CREATE_FORUM_SUCCESS }); }\n            else dispatch({ type: CREATE_FORUM_FAILURE });\n          },\n          error => dispatch({ type: FETCHING_DISCUSSIONS_FAILURE, payload: error })\n        );\n      },\n      error => dispatch({ type: CREATE_FORUM_FAILURE })\n    );\n  };\n};\n\nexport const deleteForum = (forumId) => {\n  return (dispatch, getState) => {\n    dispatch({ type: DELETE_FORUM });\n\n    deleteForumAPI(forumId).then(\n      forumData => {\n        dispatch({ type: GET_ALL_INFO_START });\n\n        // get admin info again to refresh the infos\n        getAdminDashboardInfoAPI().then(\n          data => {\n            dispatch({ type: GET_ALL_INFO_SUCCESS, payload: data.data });\n\n            // check if th eforum was deleted\n            if (forumData.data.deleted) { dispatch({ type: DELETE_FORUM_SUCCESS }); }\n            else dispatch({ type: DELETE_FORUM_FAILURE });\n          },\n          error => dispatch({ type: FETCHING_DISCUSSIONS_FAILURE, payload: error })\n        );\n      },\n      error => dispatch({ type: DELETE_FORUM_FAILURE })\n    );\n  };\n};\n","import React, { Component } from 'react';\n\n\n\nclass Counts extends Component {\n  render() {\n    const {\n      count,\n      label,\n    } = this.props;\n\n    return (\n      <div >\n        <div >{count}</div>\n        <div >{label}</div>\n      </div>\n    );\n  }\n}\n\nCounts.defaultProps = {\n  count: 0,\n  label: 'default',\n};\n\n/* Counts.propTypes = {\n  count: React.PropTypes.number,\n  label: React.PropTypes.string,\n}; */\n\nexport default Counts;\n","import React, { Component } from 'react';\n\nclass Button extends Component {\n  render() {\n    const {\n      type,\n      fullWidth,\n      noUppercase,\n      className,\n      style,\n      onClick,\n      alwaysActive,\n    } = this.props;\n\n    return (\n      <button\n        onClick={onClick}\n\n        style={style}\n      >\n        {this.props.children}\n      </button>\n    );\n  }\n}\n\nButton.defaultProps = {\n  type: 'default',\n  fullWidth: false,\n  noUppercase: false,\n  alwaysActive: false,\n  className: '',\n  style: {},\n  onClick: () => { },\n};\n\n/* Button.propTypes = {\n  //type: React.PropTypes.oneOf(['default', 'outline']),\n  fullWidth: React.PropTypes.bool,\n  noUppercase: React.PropTypes.bool,\n  alwaysActive: React.PropTypes.bool,\n  className: React.PropTypes.string,\n  style: React.PropTypes.object,\n  onClick: React.PropTypes.func,\n}; */\n\nexport default Button;\n","import React, { Component } from 'react';\n\n\n\nimport Button from '../../../Components/Button';\n\nclass ForumBox extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      newForumTitle: '',\n      newForumSlug: '',\n      errorMsg: null,\n      mosaicImage: null\n    };\n\n    this.handleCreateForum = this.handleCreateForum.bind(this);\n  }\n\n  handleCreateForum() {\n    // remove any error messages\n    this.setState({ errorMsg: null });\n\n    const {\n      newForumTitle,\n      newForumSlug,\n      mosaicImage\n    } = this.state;\n\n    let convertedTitle = null;\n    let convertedSlug = null;\n\n    // check and convert forum title\n    if (newForumTitle !== '') {\n      // trim any leading or ending white spaces\n      convertedTitle = newForumTitle.trim();\n\n      // check the length, 4 is hardcoded here\n      if (convertedTitle.length < 4) {\n        return this.setState({ errorMsg: 'Forum title should have at least 4 charecters.' });\n      }\n    } else {\n      return this.setState({ errorMsg: 'Forum title is empty. Please provide a valid Forum Title.' });\n    }\n\n    //check mosaic image\n    if(!mosaicImage) return this.setState({errorMsg: 'Select an image for mosaic.' })\n    // check and confirm forum slug\n    if (convertedSlug !== '') {\n      const slugRegex = /^[a-z\\_]+$/;\n      convertedSlug = newForumSlug.match(slugRegex) ? newForumSlug : null;\n\n      // length check\n      if (convertedSlug && convertedSlug.length < 4) {\n        return this.setState({ errorMsg: 'Forum slug should have at least 4 charecters.' });\n      }\n    } else {\n      return this.setState({ errorMsg: 'Forum slug is empty. Please provide a valid Forum Slug.' });\n    }\n\n    if (!convertedTitle) { return this.setState({ errorMsg: 'Please provide a valid Forum Title.' }); }\n    if (!convertedSlug) { return this.setState({ errorMsg: 'Please provide a valid Forum Slug. Slug can only contain small case alphabets and underscore.' }); }\n\n    if (convertedTitle && convertedSlug) { this.props.createAction({ title: convertedTitle, slug: convertedSlug, mosaicImage }); }\n  }\n\n  render() {\n    const {\n      forums,\n      creatingForum,\n      deleteAction,\n      deletingForum,\n    } = this.props;\n\n    const {\n      newForumTitle,\n      newForumSlug,\n      errorMsg,\n    } = this.state;\n\n    return (\n      <div >\n        <div >Current Forums</div>\n        <div >\n          { deletingForum && <div >Removing forum, please wait...</div> }\n\n          { forums.map((forum) => <div key={forum.id} >\n            <div >{ forum.name }</div>\n            <div >({ forum.slug })</div>\n            <div >\n              <Button onClick={() => { deleteAction(forum.id); }}>Remove</Button>\n            </div>\n          </div>) }\n\n        </div>\n\n        <div >\n          { creatingForum && <div >Creating forum, please wait...</div> }\n          <div >Create New Forum</div>\n          <div >\n            <div >\n              <div >Title: </div>\n              <input\n                type={'text'}\n\n                placeholder={'Forum Title'}\n                onChange={(e) => { this.setState({ newForumTitle: e.target.value }); }}\n              />\n            </div>\n            <div >\n              <div >Slug: </div>\n              <input\n                type={'text'}\n\n                placeholder={'forum_slug'}\n                onChange={(e) => { this.setState({ newForumSlug: e.target.value }); }}\n              />\n            </div>\n            <div >\n              <div >Mosaic Image: </div>\n              <input\n                type={'file'}                        \n                accept=\"image/jpeg\" \n                name=\"img\"                 \n                onChange={(e) => { this.setState({ mosaicImage: e.target.files[0] }); }}\n              />\n            </div>\n            <Button onClick={this.handleCreateForum}>Create</Button>\n          </div>\n          { errorMsg && <div >{errorMsg}</div> }\n        </div>\n      </div>\n    );\n  }\n}\n\nForumBox.defaultProps = {\n};\n\n/* ForumBox.propTypes = {\n  forums: React.PropTypes.array,\n  deletingForum: React.PropTypes.bool,\n  deleteAction: React.PropTypes.func,\n  creatingForum: React.PropTypes.bool,\n  createAction: React.PropTypes.func,\n}; */\n\nexport default ForumBox;\n","import React, { Component } from 'react';\nimport { Link } from 'react-router';\nimport { connect } from 'react-redux';\n\n\n\n\nimport {getForums} from '../../App/actions'\nimport {\n  getAdminDashboardInfo,\n  createForum,\n  deleteForum,\n} from './actions';\nimport Counts from '../../Components/Dashboard/Counts';\nimport ForumBox from '../../Components/Dashboard/ForumBox';\n\nclass Dashboard extends Component {\n  componentDidMount() {\n    // get information needed for dashboard\n    this.props.getAdminDashboardInfo();\n  }\n\n  render() {\n    const {\n      discussionCount,\n      opinionCount,\n      forumCount,\n      userCount,\n      forums,\n    } = this.props.adminInfo.info;\n\n    const {\n      loadingInfo,\n      creatingForum,\n      creatingForumError,\n      deletingForum,\n      deletingForumError,\n    } = this.props;\n\n    const forumsArray = forums.map((forum) => {\n      return { id: forum._id, name: forum.forum_name, slug: forum.forum_slug };\n    });\n\n    return (\n      <div >\n        { loadingInfo && <div >\n          Loading dashboard info...\n        </div> }\n\n        <div >\n          <Counts label={'Users'} count={userCount} />\n          <Counts label={'Discussions'} count={discussionCount} />\n          <Counts label={'Opinions'} count={opinionCount} />\n          <Counts label={'Forums'} count={forumCount} />\n        </div>\n\n        <ForumBox\n          forums={forumsArray}\n          deletingForum={deletingForum}\n          deleteAction={(forumId) => { this.props.deleteForum(forumId); }}\n          creatingForum={creatingForum}\n          createAction={(forumObj) => { this.props.createForum(forumObj); }}\n        />\n\n        { creatingForumError && <div >{creatingForumError}</div> }\n        { deletingForumError && <div >{deletingForumError}</div> }\n      </div>\n    );\n  }\n}\n\nexport default connect(\n  (state) => { return {\n    adminInfo: state.adminInfo,\n    loadingInfo: state.adminInfo.loadingInfo,\n    creatingForum: state.adminInfo.creatingForum,\n    creatingForumError: state.adminInfo.creatingForumError,\n    deletingForum: state.adminInfo.deletingForum,\n    deletingForumError: state.adminInfo.deletingForumError,\n  }; },\n  (dispatch) => { return {\n    getAdminDashboardInfo: () => { dispatch(getAdminDashboardInfo()); },\n    getForums: () => { dispatch(getForums()); },\n    deleteForum: (forumId) => { dispatch(deleteForum(forumId)); },\n    createForum: (forumObj) => { dispatch(createForum(forumObj)); },\n  }; }\n)(Dashboard);\n","import axios from 'axios';\n\n/**\n * feed apis\n */\nexport const fetchDiscussions = (forum_id, sortingMethod) => {\n  return axios.get(`/api/forum/${forum_id}/discussions?sorting_method=${sortingMethod}`);\n};\n\nexport const fetchPinnedDiscussions = (forum_id) => {\n  return axios.get(`/api/forum/${forum_id}/pinned_discussions`);\n};\n","import _ from 'lodash';\nimport {\n  START_FETCHING_DISCUSSIONS,\n  STOP_FETCHING_DISCUSSIONS,\n  FETCHING_DISCUSSIONS_SUCCESS,\n  FETCHING_DISCUSSIONS_FAILURE,\n\n  START_FETCHING_PINNED_DISCUSSIONS,\n  STOP_FETCHING_PINNED_DISCUSSIONS,\n  FETCHING_PINNED_DISCUSSIONS_SUCCESS,\n  FETCHING_PINNED_DISCUSSIONS_FAILURE,\n\n  UPDATE_SORTING_METHOD,\n  INVALID_FORUM,\n} from './constants';\nimport {\n  fetchDiscussions,\n  fetchPinnedDiscussions,\n} from './api';\n\n/**\n * find the id for current forum\n * @param  {Object} state   the state object\n * @param  {String} forum   current forum\n * @return {Number}         the forum id\n */\nconst findForumId = (state, forum) => {\n  const { forums } = state.app;\n  const forumId = _.find(forums, { forum_slug: forum });\n\n  if (forumId) { return forumId._id; }\n  else { return null; }\n};\n\n/**\n * action to fetch forum discussions\n * @param  {String}  forum               current forum slug\n * @param  {Boolean} feedChanged         if the feed has been changed, default is false\n * @param  {String}  sortingMethod       define the sorting method, default is 'date'\n * @param  {Boolean} sortingChanged      if user chagned the sorting method\n * @return {thunk}\n */\nexport const getDiscussions = (forumId, feedChanged=false, sortingChanged=false) => {\n  return (dispatch, getState) => {\n    const sortingMethod = getState().feed.sortingMethod;\n\n    // show the loading message when user change forum or change sorting method\n    if (feedChanged || sortingChanged) dispatch({ type: START_FETCHING_DISCUSSIONS });\n\n    if (!forumId) {\n      dispatch({ type: INVALID_FORUM });\n    }\n    else {\n      // start fetching discussions\n      fetchDiscussions(forumId, sortingMethod).then(\n        data => dispatch({ type: FETCHING_DISCUSSIONS_SUCCESS, payload: data.data }),\n        error => dispatch({ type: FETCHING_DISCUSSIONS_FAILURE })\n      );\n    }\n  };\n};\n\n/**\n * action to fetch forum pinned discussions\n * @param  {String}  forum                current forum\n * @param  {Boolean} [feedChanged=false]  if the feed has been changed\n * @return {thunk}\n */\nexport const getPinnedDiscussions = (forumId, feedChanged) => {\n  return (dispatch, getState) => {\n    // show the loading message when user change forum\n    if (feedChanged) dispatch({ type: START_FETCHING_PINNED_DISCUSSIONS });;\n\n    if (!forumId) {\n      dispatch({ type: INVALID_FORUM });\n    }\n    else {\n      // start fetching pinned discussions\n      return fetchPinnedDiscussions(forumId).then(\n        data => dispatch({ type: FETCHING_PINNED_DISCUSSIONS_SUCCESS, payload: data.data }),\n        error => { console.log(error); dispatch({ type: FETCHING_PINNED_DISCUSSIONS_FAILURE }); }\n      );\n    }\n  };\n};\n\n/**\n * Update sorting method\n * @param  {String} method\n * @return {action}\n */\nexport const updateSortingMethod = (method) => {\n  return { type: UPDATE_SORTING_METHOD, payload: method };\n};\n","import axios from 'axios';\n\n/**\n * single discussion apis\n */\nexport const fetchSingleDiscussion = (discussion_slug) => {\n  return axios.get(`/api/discussion/${discussion_slug}`);\n};\n\nexport const toggleFavoriteApi = (discussion_id) => {\n  return axios.put(`/api/discussion/toggleFavorite/${discussion_id}`);\n};\n\nexport const postOpinionApi = (opinion) => {\n  return axios.post('/api/opinion/newOpinion', opinion);\n};\n\nexport const deletePostApi = (discussionSlug) => {\n  return axios.delete(`/api/discussion/deleteDiscussion/${discussionSlug}`);\n};\n\nexport const deleteOpinionApi = (opinionId) => {\n  return axios.delete(`/api/opinion/deleteOpinion/${opinionId}`);\n};\n","import {\n  FETCHING_SINGLE_DISC_START,\n  FETCHING_SINGLE_DISC_END,\n  FETCHING_SINGLE_DISC_SUCCESS,\n  FETCHING_SINGLE_DISC_FAILURE,\n\n  TOGGLE_FAVORITE_START,\n  TOGGLE_FAVORITE_SUCCESS,\n  TOGGLE_FAVORITE_FAILURE,\n\n  UPDATE_OPINION_CONTENT,\n\n  POSTING_OPINION_START,\n  POSTING_OPINION_SUCCESS,\n  POSTING_OPINION_FAILURE,\n\n  DELETE_DISC_START,\n  DELETE_DISC_SUCCESS,\n  DELETE_DISC_REDIRECT,\n  DELETE_DISC_FAILURE,\n\n  DELETE_OPINION_START,\n  DELETE_OPINION_SUCCESS,\n  DELETE_OPINION_FAILURE,\n} from './constants';\n\nimport {\n  fetchSingleDiscussion,\n  fetchOpinions,\n  toggleFavoriteApi,\n  postOpinionApi,\n  deletePostApi,\n  deleteOpinionApi,\n} from './api';\n\n/**\n * get the discussion from server\n * @param  {String} discussionSlug\n * @return {action}\n */\nexport const getDiscussion = (discussionSlug) => {\n  return (dispatch, getState) => {\n    dispatch({ type: FETCHING_SINGLE_DISC_START });\n    fetchSingleDiscussion(discussionSlug).then(\n      data => {\n        if (data.data) dispatch({ type: FETCHING_SINGLE_DISC_SUCCESS, payload: data.data });\n        else dispatch({ type: FETCHING_SINGLE_DISC_FAILURE });\n      },\n      error => dispatch({ type: FETCHING_SINGLE_DISC_FAILURE })\n    );\n  };\n};\n\n/**\n * toggle favorite status of the discussion\n * @param  {ObjectId} discussionId\n * @return {action}\n */\nexport const toggleFavorite = (discussionId) => {\n  return (dispatch, getState) => {\n    dispatch({ type: TOGGLE_FAVORITE_START });\n\n    toggleFavoriteApi(discussionId).then(\n      data => {\n        if (data.data._id) {\n          dispatch({ type: TOGGLE_FAVORITE_SUCCESS });\n          dispatch({ type: FETCHING_SINGLE_DISC_SUCCESS, payload: data.data });\n        }\n        else dispatch({ type: TOGGLE_FAVORITE_FAILURE });\n      },\n      error => dispatch({ type: TOGGLE_FAVORITE_FAILURE })\n    );\n  };\n};\n\n/**\n * update opinion content in redux state (controlled input)\n * @param  {Object} value\n * @return {action}\n */\nexport const updateOpinionContent = (value) => {\n  return {\n    type: UPDATE_OPINION_CONTENT,\n    payload: value,\n  };\n};\n\n/**\n * post an opinion\n * @param  {Object} opinion\n * @param  {String} discussionSlug\n * @return {action}\n */\nexport const postOpinion = (opinion, discussionSlug) => {\n  return (dispatch, getState) => {\n    // dispatch to show the posting message\n    dispatch({ type: POSTING_OPINION_START });\n\n    // validate the opinion\n    if (!opinion.content || opinion.content.length < 20) {\n      dispatch({ type: POSTING_OPINION_FAILURE, payload: 'Please provide a bit more info in your opinion....at least 20 characters.' });\n    } else {\n      // call the api to post the opinion\n      postOpinionApi(opinion).then(\n        data => {\n          if (data.data._id) {\n            // fetch the discussion to refresh the opinion list\n            fetchSingleDiscussion(discussionSlug).then(\n              data => {\n                dispatch({ type: FETCHING_SINGLE_DISC_SUCCESS, payload: data.data });\n                dispatch({ type: POSTING_OPINION_SUCCESS });\n              },\n              error => dispatch({ type: FETCHING_SINGLE_DISC_FAILURE })\n            );\n          }\n          else dispatch({ type: POSTING_OPINION_FAILURE });\n        },\n        error => dispatch({ type: POSTING_OPINION_FAILURE })\n      );\n    }\n  };\n};\n\n/**\n * delete the discussion post\n * @param  {String} discussionSlug\n * @return {action}\n */\nexport const deletePost = (discussionSlug) => {\n  return (dispatch, getState) => {\n    dispatch({ type: DELETE_DISC_START });\n    deletePostApi(discussionSlug).then(\n      data => {\n        if (data.data.deleted) { dispatch({ type: DELETE_DISC_SUCCESS }); }\n        else { dispatch({ type: DELETE_DISC_FAILURE }); }\n      },\n      error => dispatch({ type: DELETE_DISC_FAILURE })\n    );\n  };\n};\n\n/**\n * after a successfull deletion of a discussion\n * the user should be redirected to the home page\n * @return {action}\n */\nexport const deletedDiscussionRedirect = () => {\n  return (dispatch, getState) => {\n    dispatch({ type: DELETE_DISC_REDIRECT });\n  };\n};\n\n/**\n * delete an opinion\n * @param  {ObjectId} opinionId\n * @param  {String} discussionSlug\n * @return {action}\n */\nexport const deleteOpinion = (opinionId, discussionSlug) => {\n  return (dispatch, getState) => {\n    // show the loading message\n    dispatch({ type: DELETE_OPINION_START, payload: opinionId });\n\n    // call the api\n    deleteOpinionApi(opinionId).then(\n      data => {\n        if (data.data.deleted) {\n\n          // fetch the discussion again to refresh the opinions\n          fetchSingleDiscussion(discussionSlug).then(\n            data => {\n              dispatch({ type: DELETE_OPINION_SUCCESS });\n              dispatch({ type: FETCHING_SINGLE_DISC_SUCCESS, payload: data.data });\n            },\n            error => dispatch({ type: FETCHING_SINGLE_DISC_FAILURE })\n          );\n\n        }\n        else { dispatch({ type: DELETE_OPINION_FAILURE }); }\n      },\n      error => dispatch({ type: DELETE_OPINION_FAILURE })\n    );\n  };\n};\n","import React, { Component } from 'react';\n\n\n\nclass StyleButton extends React.Component {\n  constructor() {\n    super();\n    this.onToggle = (e) => {\n      e.preventDefault();\n      this.props.onToggle(this.props.style);\n    };\n  }\n\n  render() {\n\n    return (\n      <div  onMouseDown={this.onToggle}>\n        {this.props.label}\n      </div>\n    );\n  }\n}\n\n/* StyleButton.propTypes = {\n  onToggle: React.PropTypes.func.isRequired,\n  active: React.PropTypes.any.isRequired,\n  label: React.PropTypes.string.isRequired,\n  style: React.PropTypes.string.isRequired,\n}; */\n\nexport default StyleButton;\n","import React, { Component } from 'react';\n\n\n\nimport Button from '../../Components/Button';\nimport StyleButton from './StyleButton';\n\nclass BlockStyleControls extends Component {\n  render() {\n    const {\n      onToggle,\n      editorState,\n      type,\n    } = this.props;\n\n    const blockTypes = [\n      // {label: 'H1', style: 'header-one'},\n      // {label: 'H2', style: 'header-two'},\n      {label: 'H3', style: 'header-three'},\n      {label: 'H4', style: 'header-four'},\n      {label: 'H5', style: 'header-five'},\n      // {label: 'H6', style: 'header-six'},\n      {label: 'Blockquote', style: 'blockquote'},\n      // {label: 'UL', style: 'unordered-list-item'},\n      // {label: 'OL', style: 'ordered-list-item'},\n      {label: 'Code Block', style: 'code-block'},\n    ];\n\n    const selection = editorState.getSelection();\n    const blockType = editorState\n      .getCurrentContent()\n      .getBlockForKey(selection.getStartKey())\n      .getType();\n\n    return (\n      <div >\n        { blockTypes.map((eachType) =>\n          <StyleButton\n            key={eachType.label}\n            onToggle={onToggle}\n            active={eachType.style === blockType}\n            label={eachType.label}\n            style={eachType.style}\n          />\n        ) }\n      </div>\n    );\n  }\n}\n\n/* BlockStyleControls.propTypes = {\n  onToggle: React.PropTypes.func.isRequired,\n  editorState: React.PropTypes.any.isRequired,\n  //type: React.PropTypes.oneOf(['newDiscussion', 'newOpinion']),\n}; */\n\nexport default BlockStyleControls;\n","import React, { Component } from 'react';\n\n\n\nimport Button from '../../Components/Button';\nimport StyleButton from './StyleButton';\n\nclass InlineStyleControls extends Component {\n  render() {\n    const {\n      onToggle,\n      editorState,\n    } = this.props;\n\n    const inlineStyles = [\n      {label: 'Bold', style: 'BOLD'},\n      {label: 'Italic', style: 'ITALIC'},\n      // {label: 'Underline', style: 'UNDERLINE'},\n      {label: 'Monospace', style: 'CODE'},\n    ];\n\n    const currentStyle = editorState.getCurrentInlineStyle();\n\n    return (\n      <div >\n        { inlineStyles.map((eachType) =>\n          <StyleButton\n            key={eachType.label}\n            onToggle={onToggle}\n            active={currentStyle.has(eachType.style)}\n            label={eachType.label}\n            style={eachType.style}\n          />\n        ) }\n      </div>\n    );\n  }\n}\n\n/* InlineStyleControls.propTypes = {\n  onToggle: React.PropTypes.func.isRequired,\n  editorState: React.PropTypes.any.isRequired,\n  //type: React.PropTypes.oneOf(['newDiscussion', 'newOpinion']),\n}; */\n\nexport default InlineStyleControls;\n","import React, { Component } from 'react';\nimport {\n  Editor,\n  EditorState,\n  ContentState,\n  RichUtils,\n  convertToRaw,\n  convertFromRaw,\n} from 'draft-js';\n\n\n\nimport Button from '../../Components/Button';\nimport BlockStyleControls from './BlockStyleControls';\nimport InlineStyleControls from './InlineStyleControls';\n\nclass RichEditor extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      editorState: EditorState.createEmpty(),\n    };\n\n    this.focus = () => this.refs.editor.focus();\n    this.onEditorStateChange = this.onEditorStateChange.bind(this);\n    this.handleKeyCommand = this.handleKeyCommand.bind(this);\n    this.onTab = this.onTab.bind(this);\n    this.toggleBlockType = this.toggleBlockType.bind(this);\n    this.toggleInlineStyle = this.toggleInlineStyle.bind(this);\n  }\n\n  componentDidMount() {\n    const { value } = this.props;\n    if (value) {\n      const contentState = convertFromRaw(JSON.parse(value));\n      const editorState = EditorState.createWithContent(contentState);\n      this.setState({ editorState });\n    }\n  }\n\n  onEditorStateChange(editorState) {\n    const { onChange } = this.props;\n    this.setState({ editorState });\n\n    // trigger on change converting the ContentState to raw object\n    onChange(JSON.stringify(convertToRaw(editorState.getCurrentContent())));\n  }\n\n  handleKeyCommand(command) {\n    const newState = RichUtils.handleKeyCommand(this.state.editorState, command);\n    if (newState) {\n      this.onEditorStateChange(newState);\n      return true;\n    }\n    return false;\n  }\n\n  onTab(event) {\n    const maxDepth = 4;\n    this.onEditorStateChange(RichUtils.onTab(event, this.state.editorState, maxDepth));\n  }\n\n  toggleBlockType(blockType) {\n    this.onEditorStateChange(\n      RichUtils.toggleBlockType(\n        this.state.editorState,\n        blockType\n      )\n    );\n  }\n\n  toggleInlineStyle(inlineStyle) {\n    this.onEditorStateChange(\n      RichUtils.toggleInlineStyle(\n        this.state.editorState,\n        inlineStyle\n      )\n    );\n  }\n\n  customBlockStyles(contentBlock) {\n    const type = contentBlock.getType();\n\n  }\n\n  render() {\n    const {\n      type,\n      onSave,\n      readOnly,\n    } = this.props;\n\n    // styling for inline styles\n    const inlineStyleMap = {\n      'CODE': {\n        color: '#e74c3c',\n        backgroundColor: '#f9f9f9',\n        border: '1px solid #e8e8e8',\n        fontFamily: 'monospace',\n        padding: '2px 5px',\n        margin: '0px 5px',\n      },\n    };\n\n    let saveButtonLabel = '';\n    if (type === 'newOpinion') saveButtonLabel = 'Reply';\n    if (type === 'newDiscussion') saveButtonLabel = 'Post Discussion';\n\n    let placeholder = '';\n    if (type === 'newOpinion') placeholder = 'Your opinion...';\n    if (type === 'newDiscussion') placeholder = 'Discussion summary...';\n\n    return (\n      <div >\n        { !readOnly && <div >\n          <InlineStyleControls\n            type={type}\n            editorState={this.state.editorState}\n            onToggle={this.toggleInlineStyle}\n          />\n          <BlockStyleControls\n            type={type}\n            editorState={this.state.editorState}\n            onToggle={this.toggleBlockType}\n          />\n        </div> }\n\n        <div\n\n          onClick={this.focus}\n        >\n          <Editor\n            customStyleMap={inlineStyleMap}\n            blockStyleFn={this.customBlockStyles}\n            readOnly={readOnly}\n            editorState={this.state.editorState}\n            onChange={this.onEditorStateChange}\n            placeholder={placeholder}\n            handleKeyCommand={this.handleKeyCommand}\n            onTab={this.onTab}\n            ref='editor'\n          />\n        </div>\n\n        { !readOnly && <Button noUppercase style={{ alignSelf: 'center' }} onClick={onSave}>\n          {saveButtonLabel}\n        </Button> }\n      </div>\n    );\n  }\n}\n\nRichEditor.defaultProps = {\n  readOnly: false,\n  value: null,\n  type: 'newDiscussion',\n  onChange: () => { },\n  onSave: () => { },\n};\n\n/* RichEditor.propTypes = {\n  readOnly: React.PropTypes.bool,\n  value: React.PropTypes.any,\n  //type: React.PropTypes.oneOf(['newDiscussion', 'newOpinion']),\n  onChange: React.PropTypes.func,\n  onSave: React.PropTypes.func,\n}; */\n\nexport default RichEditor;\n","import _ from 'lodash';\nimport React, { Component } from 'react';\nimport moment from 'moment';\nimport Button from '../../../Components/Button';\nimport RichEditor from '../../../Components/RichEditor';\nimport { Image } from 'react-bootstrap';\n\nclass Discussion extends Component {\n  render() {\n    const {\n      id,\n      userAvatar,\n      userName,\n      userGitHandler,\n      discTitle,\n      discDate,\n      discContent,\n      tags,\n      favoriteCount,\n      favoriteAction,\n      userFavorited,\n      toggleingFavorite,\n      allowDelete,\n      deletingDiscussion,\n      deleteAction\n      \n    } = this.props;\n\n    let dateDisplay = moment(discDate);\n    dateDisplay = dateDisplay.from(moment());\n\n    let favCount = '';\n    if (toggleingFavorite) favCount = 'Toggling Favorite...';\n    else if (userFavorited) favCount = `Favorited (${favoriteCount})`;\n    else if (favoriteCount === 0) favCount = 'Make favorite';\n    else if (favoriteCount === 1) favCount = '1 favorite';\n    else favCount = `${favoriteCount} favorites`;\n\n    return (\n      <section className=\"single-discussion\">\n        <section className=\"single-discussion__header d-flex\">\n          <Image src={userAvatar} roundedCircle />\n          <div className=\"d-flex flex-column justify-content-center\">\n            <span>{userName}</span>\n            <span className=\"text-muted\">{dateDisplay}</span>\n          </div>\n        </section>\n\n\n\n\n        \n\n\n\n        <div >{discTitle}</div>\n        <div >\n          <RichEditor\n            readOnly={true}\n            value={discContent}\n          />\n        </div>\n\n        <div >\n\n          <Button noUppercase onClick={() => { !toggleingFavorite && favoriteAction(id); }}>\n            <i ></i>\n            <span>{favCount}</span>\n          </Button>\n\n          {allowDelete && <Button noUppercase onClick={() => { deleteAction(); }}>\n            <i ></i>\n            <span>Delete</span>\n          </Button>}\n        </div>\n\n        {deletingDiscussion && <div>\n          Deleting Discussion...\n        </div>}\n      </section>\n    );\n  }\n}\n\nDiscussion.defaultProps = {\n  id: 0,\n  userAvatar: null,\n  userName: 'User name',\n  userGitHandler: 'github',\n  discTitle: 'Default Discussion Title',\n  discDate: 'a day ago',\n  discContent: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.',\n  tags: ['react', 'redux', 'webkit'],\n  favoriteCount: 1,\n  favoriteAction: () => { },\n  userFavorited: false,\n  toggleingFavorite: false,\n  allowDelete: false,\n  deletingDiscussion: false,\n  deleteAction: () => { },\n};\n\n/* Discussion.propTypes = {\n  id: React.PropTypes.any,\n  userAvatar: React.PropTypes.string,\n  userName: React.PropTypes.string,\n  userGitHandler: React.PropTypes.string,\n  discTitle: React.PropTypes.string,\n  discDate: React.PropTypes.any,\n  discContent: React.PropTypes.any,\n  tags: React.PropTypes.array,\n  favoriteCount: React.PropTypes.number,\n  favoriteAction: React.PropTypes.func,\n  userFavorited: React.PropTypes.bool,\n  toggleingFavorite: React.PropTypes.bool,\n  allowDelete: React.PropTypes.bool,\n  deletingDiscussion: React.PropTypes.bool,\n  deleteAction: React.PropTypes.func,\n}; */\n\nexport default Discussion;\n","import React, { Component } from 'react';\n\n\nimport RichEditor from '../../../Components/RichEditor';\n\nclass ReplyBox extends Component {\n  render() {\n    const {\n      posting,\n      onSubmit,\n      onChange,\n    } = this.props;\n\n    if (posting) return <div >Posting your opinion...</div>;\n\n    return (\n      <RichEditor\n        type=\"newOpinion\"\n        onSave={onSubmit}\n        onChange={onChange}\n      />\n    );\n  }\n}\n\nReplyBox.defaultProps = {\n  posting: false,\n  onSubmit: () => { },\n  onChange: (value) => { },\n};\n\n/* ReplyBox.propTypes = {\n  posting: React.PropTypes.bool,\n  onSubmit: React.PropTypes.func,\n  onChange: React.PropTypes.func,\n}; */\n\nexport default ReplyBox;\n","import React, { Component } from 'react';\nimport { Link } from 'react-router';\nimport moment from 'moment';\n\n\nimport Button from '../../../Components/Button';\nimport RichEditor from '../../../Components/RichEditor';\n\nclass Opinion extends Component {\n  render() {\n    const {\n      opinionId,\n      userAvatar,\n      userName,\n      userGitHandler,\n      opDate,\n      opContent,\n      userId,\n      currentUserId,\n      currentUserRole,\n      deleteAction,\n      deletingOpinion,\n    } = this.props;\n\n    let dateDisplay = moment(opDate);\n    dateDisplay = dateDisplay.from(moment());\n\n    const allowDelete = (userId === currentUserId) || (currentUserRole === 'admin');\n\n    return (\n      <div >\n        <div >\n          <img  src={userAvatar} />\n          <div >\n            <Link to={`/user/${userGitHandler}`} >{userName || userGitHandler}</Link>\n            <a href={`https://www.github.com/${userGitHandler}`} target=\"_blank\" >\n              <i ></i>\n              <span>{userGitHandler}</span>\n            </a>\n          </div>\n          <div >{dateDisplay}</div>\n          { allowDelete && <Button  noUppercase onClick={() => { deleteAction(opinionId); }}>\n            <i ></i>\n            <span>Delete</span>\n          </Button> }\n          {/* <Button noUppercase>Quote</Button> */}\n        </div>\n\n        <div >\n          <RichEditor\n            readOnly\n            value={opContent}\n          />\n        </div>\n\n        { (deletingOpinion === opinionId) && <div >Deleting Opinion ...</div> }\n      </div>\n    );\n  }\n}\n\nOpinion.defaultProps = {\n  opinionId: '12345',\n  userAvatar: null,\n  userName: 'User name',\n  userGitHandler: 'github',\n  opDate: 'a day ago',\n  opContent: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.',\n  userId: '12345',\n  currentUserId: '12345',\n  currentUserRole: 'user',\n  deleteAction: () => {},\n  deletingOpinion: null,\n};\n\n/* Opinion.propTypes = {\n  opinionId: React.PropTypes.string,\n  userAvatar: React.PropTypes.string,\n  userName: React.PropTypes.string,\n  userGitHandler: React.PropTypes.string,\n  opDate: React.PropTypes.any,\n  opContent: React.PropTypes.string,\n  userId: React.PropTypes.string,\n  currentUserId: React.PropTypes.string,\n  currentUserRole: React.PropTypes.string,\n  deleteAction: React.PropTypes.func,\n  deletingOpinion: React.PropTypes.any,\n}; */\n\nexport default Opinion;\n","import _ from 'lodash';\nimport React, { Component } from 'react';\nimport { browserHistory } from 'react-router';\nimport { connect } from 'react-redux';\n\n\n\nimport {  \n  toggleFavorite,\n  updateOpinionContent,\n  postOpinion,\n  deletePost,\n  deletedDiscussionRedirect,\n  deleteOpinion,\n} from './actions';\n\nimport Discussion from '../../Components/SingleDiscussion/Discussion';\nimport ReplyBox from '../../Components/SingleDiscussion/ReplyBox';\nimport Opinion from '../../Components/SingleDiscussion/Opinion';\n\n\nclass SingleDiscussion extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { opinionContent: '' };\n  }\n\n\n  componentDidUpdate() {\n    const {\n      deletedDiscussion,\n      deletedDiscussionRedirect,\n    } = this.props;\n\n    const { forum } = this.props.params;\n\n    // check if the discussion is deleted and redirect the user\n    if (deletedDiscussion) {\n      browserHistory.push(`/${forum}`);\n      setTimeout(() => { deletedDiscussionRedirect(); }, 100);\n    }\n  }\n\n  componentWillUnmount() {\n    // remove any existing opinion texts\n    this.props.updateOpinionContent(null);\n  }\n\n  userFavoritedDiscussion(userId, favorites) {\n    let favorited = false;\n    for (let i = 0; i < favorites.length; i++) {\n      if (favorites[i] === userId) favorited = true;\n    }\n    return favorited;\n  }\n\n  handleReplySubmit() {\n    const {\n      forums,\n      postOpinion,\n      discussion,\n      opinionContent,\n      userId,\n    } = this.props;\n\n    const discussion_slug = this.props.params.discussion;\n    const forumSlug = this.props.params.forum;\n    const forumId = _.find(forums, { forum_slug: forumSlug })._id;\n\n    postOpinion(\n      {\n        forum_id: forumId,\n        discussion_id: discussion._id,\n        user_id: userId,\n        content: opinionContent,\n      },\n      discussion_slug\n    );\n  }\n\n  deleteDiscussion() {\n    const { discussion } = this.props.params;\n    const { deletePost } = this.props;\n    deletePost(discussion);\n  }\n\n  deleteOpinion(opinionId) {\n    const { discussion } = this.props.params;\n    const { deleteOpinion } = this.props;\n    deleteOpinion(opinionId, discussion);\n  }\n\n  render() {\n    const {\n      discussion,\n      toggleFavorite,\n      toggleingFavorite,\n      updateOpinionContent,\n      postingOpinion,\n      opinionError,\n      deletingOpinion,\n      deletingDiscussion\n      \n    } = this.props;\n\n\n    const {\n      _id,\n      content,\n      date,\n      favorites,\n      title,\n      tags,\n      opinions,\n    } = discussion;\n\n    const {\n      avatarUrl,\n      name,\n      username,\n    } = discussion.user;\n\n    // check if logged in user is owner of the discussion\n    let allowDelete = false;\n    if (\n      (discussion.user._id === this.props.userId) ||\n      this.props.userRole === 'admin'\n    ) allowDelete = true;\n\n    // check if user favorated the discussion\n    const userFavorited = this.userFavoritedDiscussion(this.props.userId, favorites);\n\n    return (\n      <div >\n\n        <Discussion\n          id={_id}\n          userAvatar={avatarUrl}\n          userName={name || username}\n          userGitHandler={username}\n          discTitle={title}\n          discDate={date}\n          discContent={content}\n          tags={tags}\n          favoriteCount={favorites.length}\n          favoriteAction={toggleFavorite}\n          userFavorited={userFavorited}\n          toggleingFavorite={toggleingFavorite}\n          allowDelete={allowDelete}\n          deletingDiscussion={deletingDiscussion}\n          deleteAction={this.deleteDiscussion.bind(this)}\n          \n        />\n\n        {opinionError && <div >{opinionError}</div>}\n\n\n        <ReplyBox\n          posting={postingOpinion}\n          onSubmit={this.handleReplySubmit.bind(this)}\n          onChange={(content) => { updateOpinionContent(content); }}\n        />\n\n        {opinions && opinions.map((opinion) => {\n          return (\n            <Opinion\n              key={opinion._id}\n              opinionId={opinion._id}\n              userAvatar={opinion.user.avatarUrl}\n              userName={opinion.user.name}\n              userGitHandler={opinion.user.username}\n              opDate={opinion.date}\n              opContent={opinion.content}\n              userId={opinion.user_id}\n              currentUserId={this.props.userId}\n              currentUserRole={this.props.userRole}\n              deleteAction={this.deleteOpinion.bind(this)}\n              deletingOpinion={deletingOpinion}\n            />\n          );\n        })}\n      </div>\n    );\n  }\n}\n\nexport default connect(\n  (state) => {\n    return {\n      forums: state.app.forums,      \n      userId: state.user._id,\n      userRole: state.user.role,\n      toggleingFavorite: state.discussion.toggleingFavorite,\n      deletingDiscussion: state.discussion.deletingDiscussion,\n      deletedDiscussion: state.discussion.deletedDiscussion,\n      opinionContent: state.discussion.opinionContent,\n      postingOpinion: state.discussion.postingOpinion,\n      opinionError: state.discussion.opinionError,\n      deletingOpinion: state.discussion.deletingOpinion,\n      error: state.discussion.error,\n    };\n  },\n  (dispatch) => {\n    return {\n      toggleFavorite: (discussionId) => { dispatch(toggleFavorite(discussionId)); },\n      updateOpinionContent: (content) => { dispatch(updateOpinionContent(content)); },\n      postOpinion: (opinion, discussionSlug) => { dispatch(postOpinion(opinion, discussionSlug)); },\n      deletePost: (discussionSlug) => { dispatch(deletePost(discussionSlug)); },\n      deletedDiscussionRedirect: () => { dispatch(deletedDiscussionRedirect()); },\n      deleteOpinion: (opinionId, discussionSlug) => { dispatch(deleteOpinion(opinionId, discussionSlug)); },\n    };\n  }\n)(SingleDiscussion);\n","import React, { useState } from 'react';\nimport { Link } from 'react-router';\nimport { Card, Button, Image, Modal } from 'react-bootstrap';\nimport Moment from 'moment';\nimport SingleDiscussion from '../../../Views/SingleDiscussion'\n\nfunction DiscussionBox(props) {\n\n  const [lgShow, setLgShow] = useState(false);\n\n  const user = props.discussion.user\n  const userGitHandler = props.discussion.user.username\n  const discussionTitle = props.discussion.title\n  const discussionContent = props.discussion.content\n  const time = props.discussion.date\n  const tags = props.discussion.tags\n  const opinionCount = props.discussion.opinion_count\n  const voteCount = props.discussion.favorites.length\n  const link = ''\n\n  const { discussion, discussionType } = props;\n\n  const postTime = Moment(time);\n  const timeDisplay = postTime.from(Moment());\n\n  return (\n    <Card className=\"discussion-box\">\n      <Card.Body>\n        <section className=\"discussion-box__header d-flex\">\n          <Image src={user.avatarUrl} roundedCircle />\n          <div className=\"d-flex flex-column justify-content-center\">\n            <span>{user.name || user.username} {discussionType === 'pinned' ? <span className=\"rectangle\">Featured</span> : null}</span>\n            <span className=\"text-muted\">{user.role} - {timeDisplay}</span>\n          </div>\n        </section>\n\n        <Image src={'data:image/jpeg;base64,' + discussion.base64} fluid />\n        <Card.Text>\n          {discussionContent.text}\n        </Card.Text>\n        <Button onClick={() => setLgShow(true)}>Large modal</Button>\n        <Card.Footer>\n          <div >\n            <div ><Link to={link}>{discussionTitle}</Link></div>\n            <div >\n\n              <span >{voteCount} favorites</span>\n\n\n            </div>\n          </div>\n        </Card.Footer>\n      </Card.Body>\n      <Modal\n        size=\"lg\"\n        show={lgShow}\n        onHide={() => setLgShow(false)}\n        aria-labelledby=\"example-modal-sizes-title-lg\"\n      >\n        <Modal.Header closeButton>\n          <Modal.Title id=\"example-modal-sizes-title-lg\">\n            Large Modal\n          </Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <SingleDiscussion discussion={discussion} />\n        </Modal.Body>\n      </Modal>\n\n    </Card>\n\n  );\n}\n\n\nDiscussionBox.defaultProps = {\n  discussionId: 1,\n  voteCount: 20,\n  user: {},\n  userGitHandler: 'github',\n  discussionTitle: 'This is a default post title',\n  time: Moment(),\n  opinionCount: 12,\n  tags: ['react', 'redux', 'nodejs'],\n  link: '',\n  userProfile: false,\n};\n\n/* DiscussionBox.propTypes = {\n  discussionId: React.PropTypes.number,\n  voteCount: React.PropTypes.number,\n  userName: React.PropTypes.string,\n  userGitHandler: React.PropTypes.string,\n  discussionTitle: React.PropTypes.string,\n  time: React.PropTypes.any,\n  opinionCount: React.PropTypes.number,\n  tags: React.PropTypes.array,\n  link: React.PropTypes.string,\n  userProfile: React.PropTypes.bool,\n}; */\n\nexport default DiscussionBox;\n","import React, { Component } from 'react';\n\nimport Moment from 'moment';\n\n\nimport DiscussionBox from './DiscussionBox';\n\nclass FeedBox extends Component {\n  renderSort() {\n    const {\n      activeSortingMethod,\n      onChangeSortingMethod,\n    } = this.props;\n\n    if (this.props.type === 'general') {\n      return (\n        <div >\n          <span\n\n            onClick={() => onChangeSortingMethod('date')}\n          >\n            Latest\n          </span>\n          <span\n\n            onClick={() => onChangeSortingMethod('popularity')}\n          >\n            Popular\n          </span>\n        </div>\n      );\n    }\n    return null;\n  }\n\n  renderEmptyDiscussionLine(loading, discussions) {\n    if (!loading) {\n      if (!discussions || discussions.length === 0) {\n        return <div >No discussions...</div>;\n      }\n    }\n  }\n\n  render() {\n    const {\n      type,\n      loading,\n      discussions,\n      currentForum,\n      userProfile,\n    } = this.props;\n\n    let discussionBoxTitle = '';\n    if (type === 'general') discussionBoxTitle = 'Discussions';\n    if (type === 'pinned') discussionBoxTitle = 'Pinned';\n\n    return (\n      <div >\n        <div >\n          <span >{discussionBoxTitle}</span>\n          { !userProfile && this.renderSort() }\n        </div>\n        { loading && <div >Loading...</div> }\n        { this.renderEmptyDiscussionLine(loading, discussions) }\n        { !loading &&\n          <div >\n            { discussions && discussions.map((discussion) =>\n              <DiscussionBox\n                discussion={discussion}\n                userProfile={userProfile}\n                discussionType={type}\n                key={discussion._id}\n                \n              />\n            ) }\n          </div>\n        }\n      </div>\n    );\n  }\n}\n\nFeedBox.defaultProps = {\n  type: 'general',\n  loading: false,\n  discussions: [],\n  currentForum: 'general',\n  activeSortingMethod: 'date',\n  onChangeSortingMethod: (val) => { },\n  userProfile: false,\n};\n\n/* FeedBox.propTypes = {\n  //type: React.PropTypes.oneOf(['general', 'pinned']),\n  loading: React.PropTypes.bool,\n  discussions: React.PropTypes.array,\n  currentForum: React.PropTypes.string,\n  activeSortingMethod: React.PropTypes.string,\n  onChangeSortingMethod: React.PropTypes.func,\n  userProfile: React.PropTypes.bool,\n}; */\n\nexport default FeedBox;\n","import React, { Component } from 'react';\nimport { Link } from 'react-router';\n\n\nimport Button from '../../Components/Button';\n\nclass SideBar extends Component {\n  render() {\n    const {\n      currentForum,\n    } = this.props;\n\n    return (\n      <div >\n        <Link to={`/${currentForum}/new_discussion`}>\n          <Button type='outline' fullWidth noUppercase>\n            New Discussion\n          </Button>\n        </Link>\n      </div>\n    );\n  }\n}\n\n\nSideBar.defaultProps = {\n  currentForum: 'general',\n};\n\n/* SideBar.propTypes = {\n  currentForum: React.PropTypes.string,\n}; */\n\nexport default SideBar;\n","import React, { Component } from 'react';\nimport { Link } from 'react-router';\nimport { connect } from 'react-redux';\nimport { Helmet } from 'react-helmet';\n\nimport _ from 'lodash';\nimport axios from 'axios';\nimport { Button as ButtonBootstrap, Container, Modal, Image as ImageBootstrap, Popover, Col, Row, Card } from 'react-bootstrap';\n\nimport {\n  getDiscussions,\n  getPinnedDiscussions,\n  updateSortingMethod,\n} from './actions';\n\nimport Button from '../../Components/Button';\nimport FeedBox from '../../Components/FeedBox';\nimport SideBar from '../../Components/SideBar';\n\n\n\n\nlet timer;\n\nclass ForumFeed extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      loading: false,\n      canvasHeight: 0,\n      canvasWidth: 0,\n      coordinates: null,\n      loadedEncodedImages: {},\n      showModal: false,\n      imageOnModal: '',\n      showUploadTilesButton: false,\n      showUploadMosaicImageButton: false,\n      toUploadTilesList: null,\n      toUploadMosaicList: null,\n      showSuccessMessage: false,\n      successMessage: '',\n      tileSize: null,\n      timesWider: '1',\n      widthHeight: '3',\n      quality: 100,\n      showTooltip: false,\n      currentForumId: null\n    }\n    this.canvas = React.createRef()\n  }\n\n  setImageModalPopover = (imgName) => {\n    this.setState({ imageOnModal: this.state.loadedEncodedImages[imgName], loadingImage: false })\n  }\n\n  closeModal = () => {\n    this.setState({\n      showModal: false\n    })\n  }\n\n  getIndividualImage = (x, y) => {\n\n    for (let attr in this.state.coordinates) {\n\n      const imageCoordinates = attr.split('-')\n      const imageCoordinatesX = parseInt(imageCoordinates[0])\n      const imageCoordinatesY = parseInt(imageCoordinates[1])\n      if ((x >= imageCoordinatesX && x <= (imageCoordinatesX + this.state.tileSize)) && (y >= imageCoordinatesY && y <= (imageCoordinatesY + this.state.tileSize))) {\n        const imgName = this.state.coordinates[attr]\n\n        if (Object.keys(this.state.loadedEncodedImages).includes(imgName) && this.state.loadedEncodedImages[imgName]) {\n\n          this.setImageModalPopover(imgName)\n        } else {\n          this.setState({ loadingImage: true }, () => {\n            axios.get('/api/forum/tile?tileFileName=' + imgName + '&forumId=' + this.state.currentForumId).then(response => {\n              this.setState({\n                loadedEncodedImages: {\n                  ...this.state.loadedEncodedImages,\n                  [imgName]: response.data.base64\n\n                }\n              }, () =>\n                this.setImageModalPopover(imgName)\n\n              )\n            }).catch(e => console.error(e))\n          })\n\n        }\n\n\n        break\n      }\n\n    }\n  }\n\n  getCoordenate = (e) => {\n\n\n\n\n    const rect = e.target.getBoundingClientRect()\n    const clientX = e.clientX\n    const clientY = e.clientY\n    const x = clientX - rect.left\n    const y = clientY - rect.top\n\n\n    if (timer !== undefined) {\n      window.clearTimeout(timer)\n    }\n    timer = window.setTimeout(() => {\n\n      if (!this.state.inPopover) {\n        this.setState({\n          x: clientX,\n          y: clientY\n        }, () => {\n          if (!this.state.showModal) {\n            this.getIndividualImage(x, y)\n          }\n        }\n\n\n        )\n      }\n\n    }, 500);\n\n\n\n\n\n\n  }\n\n  drawImage = (currentForumObj) => {\n    const context = this.canvas.current.getContext('2d')\n    const img = new Image()\n    const that = this;\n    img.onload = function () {\n\n      let state = {\n        canvasWidth: this.width,\n        canvasHeight: this.height,\n        loading: false,\n        coordinates: currentForumObj.mosaic.coordinates,\n        tileSize: parseInt(currentForumObj.mosaic.tile_size)\n      }\n\n\n      that.setState(state, () => {\n        that.canvas.current.width = that.state.canvasWidth\n        that.canvas.current.height = that.state.canvasHeight\n        context.drawImage(this, 0, 0, this.width, this.height)\n      })\n\n    }\n\n    img.src = 'data:image/jpeg;base64,' + currentForumObj.mosaic.base64\n  }\n  componentDidMount() {\n    const {\n      currentForumId,\n      getDiscussions,\n      getPinnedDiscussions,\n      getCurrentForum\n\n    } = this.props;\n\n    // get the discussions and pinned discussions\n    getDiscussions(currentForumId());\n    getPinnedDiscussions(currentForumId());\n    const currentForumObj = getCurrentForum();\n\n    if (currentForumObj) {\n      this.setState({\n        currentForumObj\n      }, () => {\n        if (currentForumObj.mosaic) {\n          this.setState({ currentForumId: currentForumObj._id }, () => this.drawImage(currentForumObj))\n        }\n      })\n\n\n    }\n\n\n\n  }\n\n  componentDidUpdate(prevProps) {\n    const {\n      currentForum,\n      currentForumId,\n      getDiscussions,\n      getPinnedDiscussions,\n      getCurrentForum\n    } = this.props;\n\n\n\n    // get the discussions again\n    // if the forum didn't matched\n    if (prevProps.currentForum !== currentForum) {\n      const feedChanged = true;\n      getDiscussions(currentForumId(), feedChanged);\n      getPinnedDiscussions(currentForumId(), feedChanged);\n\n      const currentForumObj = getCurrentForum();\n\n      if (currentForumObj) {\n        this.setState({\n          currentForumObj\n        }, () => {\n          if (currentForumObj.mosaic) {\n            this.setState({ currentForumId: currentForumObj._id }, () => this.drawImage(currentForumObj))\n          }\n        })\n\n\n      }\n\n\n    }\n  }\n\n  handleSortingChange(newSortingMethod) {\n    const {\n      currentForum,\n      getDiscussions,\n      updateSortingMethod,\n      sortingMethod,\n    } = this.props;\n\n    if (sortingMethod !== newSortingMethod) {\n      updateSortingMethod(newSortingMethod);\n      getDiscussions(currentForum, false, true);\n    }\n  }\n\n  renderNewDiscussionButtion() {\n    const { currentForum } = this.props;\n\n    return (\n      <div >\n        <Link to={`/${currentForum}/new_discussion`}>\n          <Button type='outline' fullWidth noUppercase>\n            New Discussion\n          </Button>\n        </Link>\n      </div>\n    );\n  }\n\n  render() {\n    const {\n      currentForum,\n      discussions,\n      fetchingDiscussions,\n      pinnedDiscussions,\n      fetchingPinnedDiscussions,\n      sortingMethod,\n      error,\n    } = this.props;\n\n    if (error) {\n      return (\n        <div >\n          {error}\n        </div>\n      );\n    }\n\n    return (\n      <section className=\"forum-feed\">\n\n        <Helmet><title>{`Mosaic Forum | ${currentForum}`}</title></Helmet>\n        <Container className=\"forum-feed__canvas-container\" fluid>\n          <Container>\n            <Popover placement=\"right\"\n              style={{ display: this.state.loading || !this.state.coordinates ? 'none' : 'block', top: this.state.y, left: this.state.x }} onClick={() => this.setState({ showModal: true })}\n              onMouseOut={() => this.setState({ inPopover: false })} onMouseOver={() => this.setState({ inPopover: true })} >\n\n              <Popover.Content>\n                {this.state.loadingImage ? <div className=\"d-flex mt-2 justify-content-center align-items-center\"><div className=\"spinner-border\" role=\"status\">\n                  <span className=\"sr-only\">Loading...</span>\n                </div></div> : <ImageBootstrap src={'data:image/jpeg;base64, ' + this.state.imageOnModal} thumbnail />}\n\n\n              </Popover.Content>\n            </Popover>\n            <canvas onMouseMove={this.getCoordenate} ref={this.canvas}></canvas>\n          </Container>\n        </Container>\n        <Container style={{ display: 'none' }}>\n          <Row>\n            <Col md=\"8\" >\n              <FeedBox\n                type='pinned'\n                loading={fetchingPinnedDiscussions}\n                discussions={pinnedDiscussions}\n                currentForum={currentForum}\n              />\n\n              <FeedBox\n                type='general'\n                loading={fetchingDiscussions}\n                discussions={discussions}\n                currentForum={currentForum}\n                onChangeSortingMethod={this.handleSortingChange.bind(this)}\n                activeSortingMethod={sortingMethod}\n              />\n\n              {this.renderNewDiscussionButtion()}\n            </Col>\n            <Col md=\"4\">\n              <Card className=\"mb-3\">\n                <Card.Header>Mosaic Overview</Card.Header>\n                <Card.Body>\n\n                  <Card.Text>\n                    {this.state.currentForumObj ? <ImageBootstrap src={'data:image/jpeg;base64, ' + this.state.currentForumObj.base64} fluid /> : null}\n                    Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nunc et nibh a risus sodales faucibus id sed nulla. Nam erat mi, volutpat id lobortis in, congue nec ante. Proin eu enim sed enim molestie accumsan fermentum at nisi. Donec et ultrices nulla. In et euismod odio, in consectetur tellus. Maecenas a vulputate orci. Proin venenatis hendrerit urna.\n\n\n                  </Card.Text>\n\n                </Card.Body>\n              </Card>\n              <Card>\n                <Card.Header>Featured</Card.Header>\n                <Card.Body>\n                  <Card.Title>Special title treatment</Card.Title>\n                  <Card.Text>\n                    With supporting text below as a natural lead-in to additional content.\n                  </Card.Text>\n\n                </Card.Body>\n              </Card>\n            </Col>\n\n          </Row>\n\n        </Container>\n\n        <div style={{ display: 'none' }}>\n          <SideBar currentForum={currentForum} />\n        </div>\n        <Modal size=\"xl\" show={this.state.showModal} onHide={this.closeModal}>\n          <Modal.Header closeButton>\n          </Modal.Header>\n          <Modal.Body className=\"text-center\">\n            <div className=\"tile-image-container\"\n              style={{\n                height: '100%',\n                backgroundImage: 'url(\"data:image/jpeg;base64, ' + this.state.imageOnModal + '\")',\n                backgroundRepeat: 'no-repeat',\n                backgroundSize: 'contain',\n                backgroundPosition: 'center',\n              }}></div>\n          </Modal.Body>\n          <Modal.Footer>\n            <ButtonBootstrap variant=\"secondary\" onClick={this.closeModal}>\n              Close\n        </ButtonBootstrap>\n          </Modal.Footer>\n        </Modal>\n      </section>\n    );\n  }\n}\n\nexport default connect(\n  (state) => {\n    return {\n      currentForum: state.app.currentForum,\n      currentForumId: () => {\n        const currentForumObj = _.find(state.app.forums, { forum_slug: state.app.currentForum });\n        if (currentForumObj) return currentForumObj._id;\n        else return null;\n      },\n      getCurrentForum: () => {\n        const currentForumObj = _.find(state.app.forums, { forum_slug: state.app.currentForum });\n        if (currentForumObj) return currentForumObj;\n        else return null;\n      },\n      fetchingDiscussions: state.feed.fetchingDiscussions,\n      discussions: state.feed.discussions,\n      fetchingPinnedDiscussions: state.feed.fetchingPinnedDiscussions,\n      sortingMethod: state.feed.sortingMethod,\n      pinnedDiscussions: state.feed.pinnedDiscussions,\n      error: state.feed.error,\n    };\n  },\n  (dispatch) => {\n    return {\n      getDiscussions: (currentForumId, feedChanged, sortingMethod, sortingChanged) => { dispatch(getDiscussions(currentForumId, feedChanged, sortingMethod, sortingChanged)); },\n      getPinnedDiscussions: (currentForumId, feedChanged) => { dispatch(getPinnedDiscussions(currentForumId, feedChanged)); },\n      updateSortingMethod: (method) => { dispatch(updateSortingMethod(method)); },\n    };\n  }\n)(ForumFeed);\n","import React, { Component } from 'react';\n\n\n\nimport Button from '../../../Components/Button';\n\nclass PinButton extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { value: false };\n  }\n\n  componentWillReceiveProps(nextProps) {\n    const { value } = nextProps;\n    this.setState({ value });\n  }\n\n  updateValue(value) {\n    this.props.onChange(value);\n    this.setState({ value });\n  }\n\n  render() {\n    const { value } = this.state;\n\n    return (\n      <div >\n        <div >Is it a pinned discussion?</div>\n\n        <div >\n          <Button\n            alwaysActive={value ? true : false}\n            onClick={() => { this.updateValue(true); }}\n          >\n            Yes\n          </Button>\n\n          <Button\n            alwaysActive={!value ? true : false}\n            onClick={() => { this.updateValue(false); }}\n          >\n            No\n          </Button>\n        </div>\n\n      </div>\n    );\n  }\n}\n\nPinButton.defaultProps = {\n  onChange: (val) => {},\n  value: false,\n};\n\n/* PinButton.propTypes = {\n  onChange: React.PropTypes.func,\n  value: React.PropTypes.bool,\n}; */\n\nexport default PinButton;\n","import React, { Component } from 'react';\n\n\n\nimport Button from '../../Components/Button';\n\nclass Tag extends Component {\n  render() {\n    const {\n      name,\n      withRemove,\n      removeAction,\n    } = this.props;\n\n    return (\n      <div >\n        {name}\n        { withRemove &&\n          <Button\n            onClick={removeAction}\n\n          >\n            <i ></i>\n          </Button>\n        }\n      </div>\n    );\n  }\n}\n\nTag.defaultProps = {\n  name: '',\n  withRemove: false,\n  removeAction: () => {},\n};\n\n/* Tag.propTypes = {\n  name: React.PropTypes.string.isRequired,\n  withRemove: React.PropTypes.bool,\n  removeAction: React.PropTypes.func,\n}; */\n\nexport default Tag;\n","import React, { Component } from 'react';\n\nimport _ from 'lodash';\n\n\nimport Button from '../../../Components/Button';\nimport Tag from '../../../Components/Tag';\n\nclass TagsInput extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      errorMsg: null,\n      tags: [],\n      tagName: '',\n    };\n  }\n\n  componentWillReceiveProps(nextProps) {\n    const { value } = nextProps;\n    this.setState({ tags: value, errorMsg: null });\n  }\n\n  validateTag(tagName) {\n    const regex = /^[a-z0-9.\\-_$@*!]{4,20}$/;\n    return regex.test(tagName);\n  }\n\n  sameTag(tagName) {\n    const { tags } = this.state;\n    let matched = false;\n    tags.map((tag) => {\n      if (tag === tagName) matched = true;\n    });\n    return matched;\n  }\n\n  addTag() {\n    const {\n      tagName,\n      tags,\n      errorMsg,\n    } = this.state;\n\n    if (this.validateTag(tagName)) {\n      if (!this.sameTag(tagName)) {\n        const newTags = tags.concat(tagName);\n        this.setState({\n          tags: newTags,\n          errorMsg: null,\n          tagName: '',\n        });\n        this.props.onChange(newTags);\n      } else {\n        this.setState({ errorMsg: 'Same tag!!!' });\n      }\n    } else {\n      this.setState({ errorMsg: 'Tags can only contain small letters and numbers. No space or special characters please. Min 4 and max 20 chars.' });\n    }\n  }\n\n  removeTag(position) {\n    const { tags } = this.state;\n    const newTags = [...tags.slice(0, position), ...tags.slice(position + 1, tags.length)];\n    this.setState({ tags: newTags });\n    this.props.onChange(newTags);\n  }\n\n  renderTags() {\n    const { tags } = this.state;\n\n    return tags.map((tag, i) => {\n      return (\n        <Tag\n          name={tag}\n          key={tag}\n          withRemove\n          removeAction={() => { this.removeTag(i); }}\n        />\n      );\n    });\n  }\n\n  renderInput() {\n    const {\n      tagName,\n      tags,\n    } = this.state;\n    const { maxTagCount } = this.props;\n\n    if ( tags.length < maxTagCount ) {\n      return (\n        <div >\n          <input\n\n            placeholder={'tag name...'}\n            value={tagName}\n            onChange={(e) => { this.setState({ tagName: e.target.value }); }}\n          />\n          <Button\n\n            onClick={() => { this.addTag(); }}\n          >\n            <i ></i>\n          </Button>\n        </div>\n      );\n    }\n\n    return null;\n  }\n\n  render() {\n    const {\n      errorMsg,\n      tagName,\n      tags,\n    } = this.state;\n\n    const { maxTagCount } = this.props;\n\n    return (\n      <div >\n        <div >\n          <div >Tags :</div>\n          { this.renderTags() }\n          { this.renderInput() }\n        </div>\n        { errorMsg && <div >{errorMsg}</div> }\n      </div>\n    );\n  }\n}\n\nTagsInput.defaultProps = {\n  value: [],\n  maxTagCount: 3,\n  onChange: (tags) => {},\n};\n\n/* TagsInput.propTypes = {\n  value: React.PropTypes.array,\n  maxTagCount: React.PropTypes.number,\n  onChange: React.PropTypes.func,\n}; */\n\nexport default TagsInput;\n","import { browserHistory } from 'react-router';\nimport {\n  POSTING_DISCUSSION_START,\n  POSTING_DISCUSSION_END,\n  POSTING_DISCUSSION_SUCCESS,\n  POSTING_DISCUSSION_FAILURE,\n\n  UPDATE_DISCUSSION_TITLE,\n  UPDATE_DISCUSSION_CONTENT,\n  UPDATE_DISCUSSION_PIN_STATUS,\n  UPDATE_DISCUSSION_TAGS,\n  UPDATE_DISCUSSION_TILE,\n  CLEAR_SUCCESS_MESSAGE,\n} from './constants';\nimport { postDiscussionApi } from './api';\n\n/**\n * post a new discussion\n * @param  {ObjectId} userId\n * @param  {ObjectId} forumId\n * @param  {String} currentForum\n * @return {action}\n */\nexport const postDiscussion = (userId, forumId, currentForum) => {\n  return (dispatch, getState) => {\n    dispatch({ type: POSTING_DISCUSSION_START });\n\n    // validate discussion inputs\n    // discussion values are in redux state\n    const {\n      title,\n      tile,\n      content,\n      tags,\n      pinned,\n    } = getState().newDiscussion;\n\n    let validated = true;\n\n    if (!userId || !forumId) {\n      validated = false;\n      return dispatch({\n        type: POSTING_DISCUSSION_FAILURE,\n        payload: 'Something is wrong with user/forum.',\n      });\n    }\n\n    if (title === null || title.length < 15) {\n      validated = false;\n      return dispatch({\n        type: POSTING_DISCUSSION_FAILURE,\n        payload: 'Title should be at least 15 characters.',\n      });\n    }\n\n    if (content === null || content.length === 0) {\n      validated = false;\n      return dispatch({\n        type: POSTING_DISCUSSION_FAILURE,\n        payload: 'Please write some content before posting.',\n      });\n    }\n\n    if (tile === undefined) {\n      validated = false;\n      return dispatch({\n        type: POSTING_DISCUSSION_FAILURE,\n        payload: 'Please add a tile .',\n      });\n    }\n\n    if (tags === null || tags.length === 0) {\n      validated = false;\n      return dispatch({\n        type: POSTING_DISCUSSION_FAILURE,\n        payload: 'Please provide some tags.',\n      });\n    }\n\n    // make api call if post is validated\n    if (validated) {\n      postDiscussionApi({\n        userId,\n        forumId,\n        title,\n        content,\n        tags,\n        pinned,\n        tile\n      }).then(\n        (data) => {\n          if (data.data.postCreated === true) {\n            dispatch({ type: POSTING_DISCUSSION_SUCCESS });\n            setTimeout(() => { dispatch({ type: CLEAR_SUCCESS_MESSAGE }); }, 2000);\n\n            // issue a redirect to the newly reacted discussion\n            browserHistory.push(`/${currentForum}/discussion/${data.data.discussion_slug}`);\n          } else {\n            dispatch({\n              type: POSTING_DISCUSSION_FAILURE,\n              payload: 'Something is wrong at our server end. Please try again later',\n            });\n          }\n        },\n        (error) => {\n          dispatch({\n            type: POSTING_DISCUSSION_FAILURE,\n            payload: error,\n          });\n        }\n      );\n    }\n  };\n};\n\n/**\n * update the discussion title in redux state (controlled input)\n * @param  {String} value\n * @return {action}\n */\nexport const updateDiscussionTitle = (value) => { \n  \n  return {\n    type: UPDATE_DISCUSSION_TITLE,\n    payload: value,\n  };\n};\n\n/**\n * update discussion content in redux state (controlled input)\n * @param  {Object} value\n * @return {action}\n */\nexport const updateDiscussionContent = (value) => {\n  return {\n    type: UPDATE_DISCUSSION_CONTENT,\n    payload: value,\n  };\n};\n\n/**\n * update discussion tile in redux state (not controlled input)\n * @param  {Object} tile\n * @return {action}\n */\nexport const updateDiscussionTile = (tile) => {  \n \n  return {\n    type: UPDATE_DISCUSSION_TILE,\n    payload: tile,\n  };\n};\n\n/**\n * update discussion pinned status in redux state (controlled input)\n * @param  {Boolean} value\n * @return {action}\n */\nexport const updateDiscussionPinStatus = (value) => {\n  return {\n    type: UPDATE_DISCUSSION_PIN_STATUS,\n    payload: value,\n  };\n};\n\n/**\n * update discussion tags in redux state (controlled input)\n * @param  {Array} value\n * @return {action}\n */\nexport const updateDiscussionTags = (value) => {\n  return {\n    type: UPDATE_DISCUSSION_TAGS,\n    payload: value,\n  };\n};\n","import axios from 'axios';\n\nexport const postDiscussionApi = (discussion) => {\n  const formData = new FormData();\n  for (let attr in discussion) {\n    formData.append(attr, discussion[attr]);\n\n  }\n\n\n  return (axios.post('/api/discussion/newDiscussion', formData, {\n    withCredentials: true,\n    headers: {\n      'Content-Type': 'multipart/form-data'\n    }\n  }));\n};\n","import _ from 'lodash';\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Helmet } from 'react-helmet';\n\n\nimport RichEditor from '../../Components/RichEditor';\nimport PinButton from '../../Components/NewDiscussion/PinButton';\nimport TagsInput from '../../Components/NewDiscussion/TagsInput';\n\nimport {\n  postDiscussion,\n  updateDiscussionTitle,\n  updateDiscussionTile,\n  updateDiscussionContent,\n  updateDiscussionPinStatus,\n  updateDiscussionTags,\n} from './actions';\n\n\n\n\nclass NewDiscussion extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      forumId: null,\n      userId: null,\n      fatalError: null,\n      tileImage: null\n    };\n  }\n\n  componentDidMount() {\n    const {\n      user,\n      currentForum,\n      forums,\n    } = this.props;\n\n    this.setUserAndForumID(user, forums, currentForum);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    const {\n      user,\n      currentForum,\n      forums,\n    } = nextProps;\n\n    this.setUserAndForumID(user, forums, currentForum);\n  }\n\n  setUserAndForumID(user, forums, currentForum) {\n    const forumId = _.find(forums, { forum_slug: currentForum });\n    if (forumId) {\n      const currentForumId = forumId._id;\n      this.setState({\n        forumId: currentForumId,\n        userId: user._id,\n      });\n    } else {\n      this.setState({\n        fatalError: 'Invalid forum buddy, go for the right one!',\n      });\n    }\n  }\n\n  renderEditor() {\n    const {\n      authenticated,\n      role,\n    } = this.props.user;\n\n    const {\n      updateDiscussionTitle,\n      updateDiscussionTile,\n      updateDiscussionContent,\n      updateDiscussionPinStatus,\n      updateDiscussionTags,\n      postDiscussion,\n      currentForum,\n    } = this.props;\n\n    const {\n      title,\n      content,\n      tags,\n      pinned,\n      tile\n\n    } = this.props.newDiscussion;\n\n    const {\n      forumId,\n      userId,\n    } = this.state;\n\n    // only show the editor when user is authenticated\n    if (authenticated) {\n      return [\n        <input\n          key={'title'}\n          type=\"text\"\n\n          placeholder={'Discussion title...'}\n          value={title}\n          onChange={(event) => { updateDiscussionTitle(event.target.value); }}\n        />,\n        (role === 'admin') && <PinButton\n          key={'pinned'}\n          value={pinned}\n          onChange={(value) => { updateDiscussionPinStatus(value); }}\n        />,\n        <TagsInput\n          key={'tags'}\n          value={tags}\n          onChange={(tags) => { updateDiscussionTags(tags); }}\n        />,\n        <RichEditor\n          key={'content'}\n          type='newDiscussion'\n          value={content}\n          onChange={(value) => { updateDiscussionContent(value); }}\n          onSave={() => { postDiscussion(userId, forumId, currentForum); }}\n        />,\n        <div key={'tile'} >\n          <div >Tile Image: </div>\n          <input\n\n            type={'file'}\n            accept=\"image/jpeg\"\n            name=\"tile\"\n            onChange={(e) => { updateDiscussionTile(e.target.files[0]); }}\n          />\n        </div>\n      ];\n    }\n\n    return (\n      <div >\n        Please sign in before posting a new discussion.\n      </div>\n    );\n  }\n\n  render() {\n    const { fatalError } = this.state;\n\n    if (fatalError) { return (<div >{fatalError}</div>); }\n\n    const { currentForum } = this.props;\n    const {\n      errorMsg,\n      postingSuccess,\n      postingDiscussion,\n    } = this.props.newDiscussion;\n\n    return (\n      <div >\n        <Helmet><title>ReForum | New Discussion</title></Helmet>\n\n        <div >\n          You are creating a new discussion on <span >{currentForum}</span> forum.\n        </div>\n        <div >{errorMsg}</div>\n        {postingSuccess && <div >Your discussion is created :-)</div>}\n        {this.renderEditor()}\n        {postingDiscussion && <div >Posting discussion...</div>}\n      </div>\n    );\n  }\n}\n\nexport default connect(\n  (state) => {\n    return {\n      user: state.user,\n      forums: state.app.forums,\n      currentForum: state.app.currentForum,\n      newDiscussion: state.newDiscussion\n\n    };\n  },\n  (dispatch) => {\n    return {\n      postDiscussion: (userId, forumId, currentForum) => { dispatch(postDiscussion(userId, forumId, currentForum)); },\n      updateDiscussionTitle: (value) => {\n        dispatch(updateDiscussionTitle(value));\n      },\n      updateDiscussionTile: (value) => {\n        dispatch(updateDiscussionTile(value));\n      },\n      updateDiscussionContent: (value) => { dispatch(updateDiscussionContent(value)); },\n      updateDiscussionPinStatus: (value) => { dispatch(updateDiscussionPinStatus(value)); },\n      updateDiscussionTags: (value) => { dispatch(updateDiscussionTags(value)); },\n    };\n  }\n)(NewDiscussion);\n","import React, { Component } from 'react';\n\n\n\nclass Profile extends Component {\n  render() {\n    const {\n      name,\n      gitHandler,\n      location,\n      avatarUrl,\n    } = this.props;\n\n    return (\n      <div >\n        <div >\n          <img  src={avatarUrl} alt={`${name} avatar`} />\n        </div>\n        <div >\n          <div >{ name }</div>\n          <div ><i ></i> { gitHandler }</div>\n          <div >{ location }</div>\n        </div>\n      </div>\n    );\n  }\n}\n\nProfile.defaultProps = {\n  name: 'Hello World',\n  gitHandler: 'helloWorld',\n  location: 'Somewhere in the world',\n  avatarUrl: 'https://google.com',\n};\n\n/* Profile.propTypes = {\n  name: React.PropTypes.string,\n  gitHandler: React.PropTypes.string,\n  location: React.PropTypes.string,\n  avatarUrl: React.PropTypes.string,\n}; */\n\nexport default Profile;\n","import {\n  FETCH_USER_PROFILE_START,\n  FETCH_USER_PROFILE_SUCCESS,\n  FETCH_USER_PROFILE_FAILURE,\n} from './constants';\n\nimport {\n  fetchUserProfileApi,\n} from './api';\n\n/**\n * fetch the users profile from the server\n * @param  {String} userSlug\n * @return {action}\n */\nexport const fetchUserProfile = (userSlug) => {\n  return (dispatch, getState) => {\n    dispatch({ type: FETCH_USER_PROFILE_START });\n\n    fetchUserProfileApi(userSlug).then(\n      data => {\n        if (data.data.error) dispatch({ type: FETCH_USER_PROFILE_FAILURE });\n        else dispatch({ type: FETCH_USER_PROFILE_SUCCESS, payload: data.data });\n      },\n      error => dispatch({ type: FETCH_USER_PROFILE_FAILURE })\n    );\n  };\n};\n","/**\n * user profile apis\n */\n\nimport axios from 'axios';\n\nexport const fetchUserProfileApi = (userSlug) => {\n  return axios.get(`/api/user/profile/${userSlug}`);\n};\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Helmet } from 'react-helmet';\n\n\n\n\n// components used in this view\nimport Profile from '../../Components/UserProfile/Profile';\nimport FeedBox from '../../Components/FeedBox';\n\n// actions\nimport {\n  fetchUserProfile,\n} from './actions';\n\nclass UserProfile extends Component {\n  componentDidMount() {\n    const { fetchUserProfile } = this.props;\n    const { username } = this.props.params;\n    fetchUserProfile(username);\n  }\n\n  componentWillReceiveProps(newProps) {\n    // fetch profile if different username\n    const { username: oldUsername } = this.props.params;\n    const { username: futureUsername } = newProps.params;\n\n    // only update if different usernames\n    if (oldUsername !== futureUsername) {\n      const { fetchUserProfile } = this.props;\n      fetchUserProfile(futureUsername);\n    }\n  }\n\n  render() {\n    const {\n      fetchingProfile,\n      profile,\n      error,\n    } = this.props;\n\n    if (error) {\n      return <div >{ error }</div>;\n    }\n\n    const {\n      name,\n      username,\n      avatarUrl,\n      github,\n      discussions,\n    } = profile;\n\n    if (fetchingProfile) {\n      return (\n        <div >\n          Loading users profile ...\n        </div>\n      );\n    }\n\n    return (\n      <div >\n        <Helmet><title>{`${name || username} | ReForum`}</title></Helmet>\n\n        <div >\n          <Profile\n            name={name}\n            gitHandler={username}\n            location={github.location}\n            avatarUrl={avatarUrl}\n          />\n\n          <FeedBox\n            userProfile\n            type='general'\n            discussions={discussions}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default connect(\n  (state) => { return {\n    fetchingProfile: state.userProfile.fetchingProfile,\n    profile: state.userProfile.profile,\n    error: state.userProfile.error,\n  }; },\n  (dispatch) => { return {\n    fetchUserProfile: (userSlug) => { dispatch(fetchUserProfile(userSlug)); },\n  }; }\n)(UserProfile);\n","import React, { Component } from 'react';\n\nclass NotFound extends Component {\n  render() {\n    return (\n      <h3>Coudn't found the url buddy. Please check it out.</h3>\n    );\n  }\n}\n\nexport default NotFound;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Router, Route, browserHistory, IndexRoute } from 'react-router';\nimport { Provider } from 'react-redux';\nimport * as serviceWorker from './serviceWorker';\n\n// app store\nimport appStore from './App/store';\n\n// app views\nimport AppContainer from './App/App';\nimport AdminContainer from './App/Admin';\nimport Dashboard from './Views/AdminDashboard';\n\nimport ForumFeed from './Views/ForumFeed';\nimport SingleDiscussion from './Views/SingleDiscussion';\nimport NewDiscussion from './Views/NewDiscussion';\nimport UserProfile from './Views/UserProfile';\nimport NotFound from './Views/NotFound';\n\nReactDOM.render (\n    <Provider store={appStore}>\n        <Router history={browserHistory}>\n            <Route path=\"/admin\" component={AdminContainer}>\n                <IndexRoute component={Dashboard} />\n            </Route>\n            <Route path=\"/\" component={AppContainer}>\n                <IndexRoute component={ForumFeed} />\n                <Route path=\":forum\" component={ForumFeed} />\n                <Route path=\":forum/discussion/:discussion\" component={SingleDiscussion} />\n                <Route path=\":forum/new_discussion\" component={NewDiscussion} />\n                <Route path=\"user/:username\" component={UserProfile} />\n                <Route path=\"*\" component={NotFound} />\n            </Route>\n        </Router>\n    </Provider>,\n    document.getElementById('root')\n);\n\n\n\n\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}